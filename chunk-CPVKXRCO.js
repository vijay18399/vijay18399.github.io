import{l as ei}from"./chunk-UCIQEQ36.js";import{Cb as De,Fa as ne,Ga as re,Hb as Ot,Jb as Mi,Ra as Ci,Rb as wt,Sb as Ct,Tb as he,Xb as ce,_b as Qt,ac as At,d as qi,dd as Si,e as Hi,ed as Pi,ib as je,id as Ii,la as Ae,lb as Lt,lc as St,mb as Ei,mc as ti,wa as ki,xa as Ve}from"./chunk-STDL2BFB.js";var Bi=qi((qe,ii)=>{"use strict";(function(Q,N){typeof qe=="object"&&typeof ii=="object"?ii.exports=N():typeof define=="function"&&define.amd?define([],N):typeof qe=="object"?qe.Raphael=N():Q.Raphael=N()})(window,function(){return function(Q){var N={};function E(F){if(N[F])return N[F].exports;var G=N[F]={i:F,l:!1,exports:{}};return Q[F].call(G.exports,G,G.exports,E),G.l=!0,G.exports}return E.m=Q,E.c=N,E.d=function(F,G,d){E.o(F,G)||Object.defineProperty(F,G,{enumerable:!0,get:d})},E.r=function(F){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(F,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(F,"__esModule",{value:!0})},E.t=function(F,G){if(1&G&&(F=E(F)),8&G||4&G&&typeof F=="object"&&F&&F.__esModule)return F;var d=Object.create(null);if(E.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:F}),2&G&&typeof F!="string")for(var h in F)E.d(d,h,function(H){return F[H]}.bind(null,h));return d},E.n=function(F){var G=F&&F.__esModule?function(){return F.default}:function(){return F};return E.d(G,"a",G),G},E.o=function(F,G){return Object.prototype.hasOwnProperty.call(F,G)},E.p="",E(E.s=1)}([function(Q,N,E){var F,G;F=[E(2)],(G=function(d){function h(t){if(h.is(t,"function"))return H?t():d.on("raphael.DOMload",t);if(h.is(t,ht))return h._engine.create[q](h,t.splice(0,3+h.is(t[0],st))).add(t);var e=Array.prototype.slice.call(arguments,0);if(h.is(e[e.length-1],"function")){var i=e.pop();return H?i.call(h._engine.create[q](h,e)):d.on("raphael.DOMload",function(){i.call(h._engine.create[q](h,e))})}return h._engine.create[q](h,arguments)}h.version="2.3.0",h.eve=d;var H,j,Et=/[, ]+/,vt={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},qt=/\{(\d+)\}/g,ft="hasOwnProperty",$={doc:document,win:window},Pt={was:Object.prototype[ft].call($.win,"Raphael"),is:$.win.Raphael},Bt=function(){this.ca=this.customAttributes={}},q="apply",L="concat",ot="ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,et="",rt=" ",T=String,X="split",W="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[X](rt),pt={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},K=T.prototype.toLowerCase,V=Math,Z=V.max,U=V.min,gt=V.abs,bt=V.pow,kt=V.PI,st="number",ht="array",Yt=Object.prototype.toString,l=(h._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),s={NaN:1,Infinity:1,"-Infinity":1},o=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,f=V.round,g=parseFloat,v=parseInt,x=T.prototype.toUpperCase,S=h._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},y=h._availableAnimAttrs={blur:st,"clip-rect":"csv",cx:st,cy:st,fill:"colour","fill-opacity":st,"font-size":st,height:st,opacity:st,path:"path",r:st,rx:st,ry:st,stroke:"colour","stroke-opacity":st,"stroke-width":st,transform:"transform",width:st,x:st,y:st},R=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,A={hs:1,rg:1},Y=/,?([achlmqrstvxz]),?/gi,at=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ct=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,lt=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,xt=(h._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),yt=function(t,e){return g(t)-g(e)},dt=function(t){return t},tt=h._rectPath=function(t,e,i,n,r){return r?[["M",t+r,e],["l",i-2*r,0],["a",r,r,0,0,1,r,r],["l",0,n-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-i,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-n],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]]},It=function(t,e,i,n){return n==null&&(n=i),[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},Mt=h._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return It(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return It(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return tt(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return tt(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return tt(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return tt(e.x,e.y,e.width,e.height)}},zt=h.mapPath=function(t,e){if(!e)return t;var i,n,r,a,u,c,p;for(r=0,u=(t=Pe(t)).length;r<u;r++)for(a=1,c=(p=t[r]).length;a<c;a+=2)i=e.x(p[a],p[a+1]),n=e.y(p[a],p[a+1]),p[a]=i,p[a+1]=n;return t};if(h._g=$,h.type=$.win.SVGAngle||$.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",h.type=="VML"){var _t,Vt=$.doc.createElement("div");if(Vt.innerHTML='<v:shape adj="1"/>',(_t=Vt.firstChild).style.behavior="url(#default#VML)",!_t||typeof _t.adj!="object")return h.type=et;Vt=null}function Ft(t){if(typeof t=="function"||Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[ft](i)&&(e[i]=Ft(t[i]));return e}h.svg=!(h.vml=h.type=="VML"),h._Paper=Bt,h.fn=j=Bt.prototype=h.prototype,h._id=0,h.is=function(t,e){return(e=K.call(e))=="finite"?!s[ft](+t):e=="array"?t instanceof Array:e=="null"&&t===null||e==typeof t&&t!==null||e=="object"&&t===Object(t)||e=="array"&&Array.isArray&&Array.isArray(t)||Yt.call(t).slice(8,-1).toLowerCase()==e},h.angle=function(t,e,i,n,r,a){if(r==null){var u=t-i,c=e-n;return u||c?(180+180*V.atan2(-c,-u)/kt+360)%360:0}return h.angle(t,e,r,a)-h.angle(i,n,r,a)},h.rad=function(t){return t%360*kt/180},h.deg=function(t){return Math.round(180*t/kt%360*1e3)/1e3},h.snapTo=function(t,e,i){if(i=h.is(i,"finite")?i:10,h.is(t,ht)){for(var n=t.length;n--;)if(gt(t[n]-e)<=i)return t[n]}else{var r=e%(t=+t);if(r<i)return e-r;if(r>t-i)return e-r+t}return e};var Zt,Ce;h.createUUID=(Zt=/[xy]/g,Ce=function(t){var e=16*V.random()|0;return(t=="x"?e:3&e|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Zt,Ce).toUpperCase()}),h.setWindow=function(t){d("raphael.setWindow",h,$.win,t),$.win=t,$.doc=$.win.document,h._engine.initWin&&h._engine.initWin($.win)};var Wt=function(t){if(h.vml){var e,i=/^\s+|\s+$/g;try{var n=new ActiveXObject("htmlfile");n.write("<body>"),n.close(),e=n.body}catch{e=createPopup().document.body}var r=e.createTextRange();Wt=Tt(function(u){try{e.style.color=T(u).replace(i,et);var c=r.queryCommandValue("ForeColor");return"#"+("000000"+(c=(255&c)<<16|65280&c|(16711680&c)>>>16).toString(16)).slice(-6)}catch{return"none"}})}else{var a=$.doc.createElement("i");a.title="Rapha\xEBl Colour Picker",a.style.display="none",$.doc.body.appendChild(a),Wt=Tt(function(u){return a.style.color=u,$.doc.defaultView.getComputedStyle(a,et).getPropertyValue("color")})}return Wt(t)},ue=function(){return"hsb("+[this.h,this.s,this.b]+")"},fe=function(){return"hsl("+[this.h,this.s,this.l]+")"},Ee=function(){return this.hex},pe=function(t,e,i){if(e==null&&h.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,e=t.g,t=t.r),e==null&&h.is(t,"string")){var n=h.getRGB(t);t=n.r,e=n.g,i=n.b}return(t>1||e>1||i>1)&&(t/=255,e/=255,i/=255),[t,e,i]},Te=function(t,e,i,n){var r={r:t*=255,g:e*=255,b:i*=255,hex:h.rgb(t,e,i),toString:Ee};return h.is(n,"finite")&&(r.opacity=n),r};function Tt(t,e,i){return function n(){var r=Array.prototype.slice.call(arguments,0),a=r.join("\u2400"),u=n.cache=n.cache||{},c=n.count=n.count||[];return u[ft](a)?(function(p,m){for(var b=0,P=p.length;b<P;b++)if(p[b]===m)return p.push(p.splice(b,1)[0])}(c,a),i?i(u[a]):u[a]):(c.length>=1e3&&delete u[c.shift()],c.push(a),u[a]=t[q](e,r),i?i(u[a]):u[a])}}h.color=function(t){var e;return h.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=h.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):h.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=h.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):(h.is(t,"string")&&(t=h.getRGB(t)),h.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=h.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=h.rgb2hsb(t),t.v=e.b):(t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1),t.toString=Ee,t},h.hsb2rgb=function(t,e,i,n){var r,a,u,c,p;return this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,n=t.o,t=t.h),c=(p=i*e)*(1-gt((t=(t*=360)%360/60)%2-1)),r=a=u=i-p,Te(r+=[p,c,0,0,c,p][t=~~t],a+=[c,p,p,c,0,0][t],u+=[0,0,c,p,p,c][t],n)},h.hsl2rgb=function(t,e,i,n){var r,a,u,c,p;return this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h),(t>1||e>1||i>1)&&(t/=360,e/=100,i/=100),c=(p=2*e*(i<.5?i:1-i))*(1-gt((t=(t*=360)%360/60)%2-1)),r=a=u=i-p/2,Te(r+=[p,c,0,0,c,p][t=~~t],a+=[c,p,p,c,0,0][t],u+=[0,0,c,p,p,c][t],n)},h.rgb2hsb=function(t,e,i){var n,r;return t=(i=pe(t,e,i))[0],e=i[1],i=i[2],{h:(((r=(n=Z(t,e,i))-U(t,e,i))==0?null:n==t?(e-i)/r:n==e?(i-t)/r+2:(t-e)/r+4)+360)%6*60/360,s:r==0?0:r/n,b:n,toString:ue}},h.rgb2hsl=function(t,e,i){var n,r,a,u;return t=(i=pe(t,e,i))[0],e=i[1],i=i[2],n=((r=Z(t,e,i))+(a=U(t,e,i)))/2,{h:(((u=r-a)==0?null:r==t?(e-i)/u:r==e?(i-t)/u+2:(t-e)/u+4)+360)%6*60/360,s:u==0?0:n<.5?u/(2*n):u/(2-2*n),l:n,toString:fe}},h._path2string=function(){return this.join(",").replace(Y,"$1")},h._preload=function(t,e){var i=$.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){e.call(this),this.onload=null,$.doc.body.removeChild(this)},i.onerror=function(){$.doc.body.removeChild(this)},$.doc.body.appendChild(i),i.src=t};function Jt(){return this.hex}function de(t,e){for(var i=[],n=0,r=t.length;r-2*!e>n;n+=2){var a=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4==n?a[3]={x:+t[0],y:+t[1]}:r-2==n&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[r-2],y:+t[r-1]}:r-4==n?a[3]=a[2]:n||(a[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return i}h.getRGB=Tt(function(t){if(!t||(t=T(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Jt};if(t=="none")return{r:-1,g:-1,b:-1,hex:"none",toString:Jt};!A[ft](t.toLowerCase().substring(0,2))&&t.charAt()!="#"&&(t=Wt(t));var e,i,n,r,a,u,c=t.match(l);return c?(c[2]&&(n=v(c[2].substring(5),16),i=v(c[2].substring(3,5),16),e=v(c[2].substring(1,3),16)),c[3]&&(n=v((a=c[3].charAt(3))+a,16),i=v((a=c[3].charAt(2))+a,16),e=v((a=c[3].charAt(1))+a,16)),c[4]&&(u=c[4][X](R),e=g(u[0]),u[0].slice(-1)=="%"&&(e*=2.55),i=g(u[1]),u[1].slice(-1)=="%"&&(i*=2.55),n=g(u[2]),u[2].slice(-1)=="%"&&(n*=2.55),c[1].toLowerCase().slice(0,4)=="rgba"&&(r=g(u[3])),u[3]&&u[3].slice(-1)=="%"&&(r/=100)),c[5]?(u=c[5][X](R),e=g(u[0]),u[0].slice(-1)=="%"&&(e*=2.55),i=g(u[1]),u[1].slice(-1)=="%"&&(i*=2.55),n=g(u[2]),u[2].slice(-1)=="%"&&(n*=2.55),(u[0].slice(-3)=="deg"||u[0].slice(-1)=="\xB0")&&(e/=360),c[1].toLowerCase().slice(0,4)=="hsba"&&(r=g(u[3])),u[3]&&u[3].slice(-1)=="%"&&(r/=100),h.hsb2rgb(e,i,n,r)):c[6]?(u=c[6][X](R),e=g(u[0]),u[0].slice(-1)=="%"&&(e*=2.55),i=g(u[1]),u[1].slice(-1)=="%"&&(i*=2.55),n=g(u[2]),u[2].slice(-1)=="%"&&(n*=2.55),(u[0].slice(-3)=="deg"||u[0].slice(-1)=="\xB0")&&(e/=360),c[1].toLowerCase().slice(0,4)=="hsla"&&(r=g(u[3])),u[3]&&u[3].slice(-1)=="%"&&(r/=100),h.hsl2rgb(e,i,n,r)):((c={r:e,g:i,b:n,toString:Jt}).hex="#"+(16777216|n|i<<8|e<<16).toString(16).slice(1),h.is(r,"finite")&&(c.opacity=r),c)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Jt}},h),h.hsb=Tt(function(t,e,i){return h.hsb2rgb(t,e,i).hex}),h.hsl=Tt(function(t,e,i){return h.hsl2rgb(t,e,i).hex}),h.rgb=Tt(function(t,e,i){function n(r){return r+.5|0}return"#"+(16777216|n(i)|n(e)<<8|n(t)<<16).toString(16).slice(1)}),h.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},i=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),i.hex},h.getColor.reset=function(){delete this.start},h.parsePathString=function(t){if(!t)return null;var e=Dt(t);if(e.arr)return Nt(e.arr);var i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},n=[];return h.is(t,ht)&&h.is(t[0],ht)&&(n=Nt(t)),n.length||T(t).replace(at,function(r,a,u){var c=[],p=a.toLowerCase();if(u.replace(lt,function(m,b){b&&c.push(+b)}),p=="m"&&c.length>2&&(n.push([a][L](c.splice(0,2))),p="l",a=a=="m"?"l":"L"),p=="r")n.push([a][L](c));else for(;c.length>=i[p]&&(n.push([a][L](c.splice(0,i[p]))),i[p]););}),n.toString=h._path2string,e.arr=Nt(n),n},h.parseTransformString=Tt(function(t){if(!t)return null;var e=[];return h.is(t,ht)&&h.is(t[0],ht)&&(e=Nt(t)),e.length||T(t).replace(ct,function(i,n,r){var a=[];K.call(n),r.replace(lt,function(u,c){c&&a.push(+c)}),e.push([n][L](a))}),e.toString=h._path2string,e},this,function(t){if(!t)return t;for(var e=[],i=0;i<t.length;i++){for(var n=[],r=0;r<t[i].length;r++)n.push(t[i][r]);e.push(n)}return e});var Dt=function(t){var e=Dt.ps=Dt.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var i in e)e[ft](i)&&i!=t&&(e[i].sleep--,!e[i].sleep&&delete e[i])}),e[t]};function ge(t,e,i,n,r){return t*(t*(-3*e+9*i-9*n+3*r)+6*e-12*i+6*n)-3*e+3*i}function Ht(t,e,i,n,r,a,u,c,p){p==null&&(p=1);for(var m=(p=p>1?1:p<0?0:p)/2,b=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],P=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],k=0,_=0;_<12;_++){var C=m*b[_]+m,I=ge(C,t,i,r,u),M=ge(C,e,n,a,c),w=I*I+M*M;k+=P[_]*V.sqrt(w)}return m*k}function Me(t,e,i,n,r,a,u,c){if(!(Z(t,i)<U(r,u)||U(t,i)>Z(r,u)||Z(e,n)<U(a,c)||U(e,n)>Z(a,c))){var p=(t-i)*(a-c)-(e-n)*(r-u);if(p){var m=((t*n-e*i)*(r-u)-(t-i)*(r*c-a*u))/p,b=((t*n-e*i)*(a-c)-(e-n)*(r*c-a*u))/p,P=+m.toFixed(2),k=+b.toFixed(2);if(!(P<+U(t,i).toFixed(2)||P>+Z(t,i).toFixed(2)||P<+U(r,u).toFixed(2)||P>+Z(r,u).toFixed(2)||k<+U(e,n).toFixed(2)||k>+Z(e,n).toFixed(2)||k<+U(a,c).toFixed(2)||k>+Z(a,c).toFixed(2)))return{x:m,y:b}}}}function me(t,e,i){var n=h.bezierBBox(t),r=h.bezierBBox(e);if(!h.isBBoxIntersect(n,r))return i?0:[];for(var a=Ht.apply(0,t),u=Ht.apply(0,e),c=Z(~~(a/5),1),p=Z(~~(u/5),1),m=[],b=[],P={},k=i?0:[],_=0;_<c+1;_++){var C=h.findDotsAtSegment.apply(h,t.concat(_/c));m.push({x:C.x,y:C.y,t:_/c})}for(_=0;_<p+1;_++)C=h.findDotsAtSegment.apply(h,e.concat(_/p)),b.push({x:C.x,y:C.y,t:_/p});for(_=0;_<c;_++)for(var I=0;I<p;I++){var M=m[_],w=m[_+1],D=b[I],B=b[I+1],O=gt(w.x-M.x)<.001?"y":"x",z=gt(B.x-D.x)<.001?"y":"x",it=Me(M.x,M.y,w.x,w.y,D.x,D.y,B.x,B.y);if(it){if(P[it.x.toFixed(4)]==it.y.toFixed(4))continue;P[it.x.toFixed(4)]=it.y.toFixed(4);var J=M.t+gt((it[O]-M[O])/(w[O]-M[O]))*(w.t-M.t),nt=D.t+gt((it[z]-D[z])/(B[z]-D[z]))*(B.t-D.t);J>=0&&J<=1.001&&nt>=0&&nt<=1.001&&(i?k++:k.push({x:it.x,y:it.y,t1:U(J,1),t2:U(nt,1)}))}}return k}function Se(t,e,i){t=h._path2curve(t),e=h._path2curve(e);for(var n,r,a,u,c,p,m,b,P,k,_=i?0:[],C=0,I=t.length;C<I;C++){var M=t[C];if(M[0]=="M")n=c=M[1],r=p=M[2];else{M[0]=="C"?(P=[n,r].concat(M.slice(1)),n=P[6],r=P[7]):(P=[n,r,n,r,c,p,c,p],n=c,r=p);for(var w=0,D=e.length;w<D;w++){var B=e[w];if(B[0]=="M")a=m=B[1],u=b=B[2];else{B[0]=="C"?(k=[a,u].concat(B.slice(1)),a=k[6],u=k[7]):(k=[a,u,a,u,m,b,m,b],a=m,u=b);var O=me(P,k,i);if(i)_+=O;else{for(var z=0,it=O.length;z<it;z++)O[z].segment1=C,O[z].segment2=w,O[z].bez1=P,O[z].bez2=k;_=_.concat(O)}}}}}return _}h.findDotsAtSegment=function(t,e,i,n,r,a,u,c,p){var m=1-p,b=bt(m,3),P=bt(m,2),k=p*p,_=k*p,C=b*t+3*P*p*i+3*m*p*p*r+_*u,I=b*e+3*P*p*n+3*m*p*p*a+_*c,M=t+2*p*(i-t)+k*(r-2*i+t),w=e+2*p*(n-e)+k*(a-2*n+e),D=i+2*p*(r-i)+k*(u-2*r+i),B=n+2*p*(a-n)+k*(c-2*a+n),O=m*t+p*i,z=m*e+p*n,it=m*r+p*u,J=m*a+p*c,nt=90-180*V.atan2(M-D,w-B)/kt;return(M>D||w<B)&&(nt+=180),{x:C,y:I,m:{x:M,y:w},n:{x:D,y:B},start:{x:O,y:z},end:{x:it,y:J},alpha:nt}},h.bezierBBox=function(t,e,i,n,r,a,u,c){h.is(t,"array")||(t=[t,e,i,n,r,a,u,c]);var p=Le.apply(null,t);return{x:p.min.x,y:p.min.y,x2:p.max.x,y2:p.max.y,width:p.max.x-p.min.x,height:p.max.y-p.min.y}},h.isPointInsideBBox=function(t,e,i){return e>=t.x&&e<=t.x2&&i>=t.y&&i<=t.y2},h.isBBoxIntersect=function(t,e){var i=h.isPointInsideBBox;return i(e,t.x,t.y)||i(e,t.x2,t.y)||i(e,t.x,t.y2)||i(e,t.x2,t.y2)||i(t,e.x,e.y)||i(t,e.x2,e.y)||i(t,e.x,e.y2)||i(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},h.pathIntersection=function(t,e){return Se(t,e)},h.pathIntersectionNumber=function(t,e){return Se(t,e,1)},h.isPointInsidePath=function(t,e,i){var n=h.pathBBox(t);return h.isPointInsideBBox(n,e,i)&&Se(t,[["M",e,i],["H",n.x2+10]],1)%2==1},h._removedFactory=function(t){return function(){d("raphael.log",null,"Rapha\xEBl: you are calling to method \u201C"+t+"\u201D of removed object",t)}};var Kt=h.pathBBox=function(t){var e=Dt(t);if(e.bbox)return Ft(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var i,n=0,r=0,a=[],u=[],c=0,p=(t=Pe(t)).length;c<p;c++)if((i=t[c])[0]=="M")n=i[1],r=i[2],a.push(n),u.push(r);else{var m=Le(n,r,i[1],i[2],i[3],i[4],i[5],i[6]);a=a[L](m.min.x,m.max.x),u=u[L](m.min.y,m.max.y),n=i[5],r=i[6]}var b=U[q](0,a),P=U[q](0,u),k=Z[q](0,a),_=Z[q](0,u),C=k-b,I=_-P,M={x:b,y:P,x2:k,y2:_,width:C,height:I,cx:b+C/2,cy:P+I/2};return e.bbox=Ft(M),M},Nt=function(t){var e=Ft(t);return e.toString=h._path2string,e},ni=h._pathToRelative=function(t){var e=Dt(t);if(e.rel)return Nt(e.rel);h.is(t,ht)&&h.is(t&&t[0],ht)||(t=h.parsePathString(t));var i=[],n=0,r=0,a=0,u=0,c=0;t[0][0]=="M"&&(a=n=t[0][1],u=r=t[0][2],c++,i.push(["M",n,r]));for(var p=c,m=t.length;p<m;p++){var b=i[p]=[],P=t[p];if(P[0]!=K.call(P[0]))switch(b[0]=K.call(P[0]),b[0]){case"a":b[1]=P[1],b[2]=P[2],b[3]=P[3],b[4]=P[4],b[5]=P[5],b[6]=+(P[6]-n).toFixed(3),b[7]=+(P[7]-r).toFixed(3);break;case"v":b[1]=+(P[1]-r).toFixed(3);break;case"m":a=P[1],u=P[2];default:for(var k=1,_=P.length;k<_;k++)b[k]=+(P[k]-(k%2?n:r)).toFixed(3)}else{b=i[p]=[],P[0]=="m"&&(a=P[1]+n,u=P[2]+r);for(var C=0,I=P.length;C<I;C++)i[p][C]=P[C]}var M=i[p].length;switch(i[p][0]){case"z":n=a,r=u;break;case"h":n+=+i[p][M-1];break;case"v":r+=+i[p][M-1];break;default:n+=+i[p][M-2],r+=+i[p][M-1]}}return i.toString=h._path2string,e.rel=Nt(i),i},ve=h._pathToAbsolute=function(t){var e=Dt(t);if(e.abs)return Nt(e.abs);if(h.is(t,ht)&&h.is(t&&t[0],ht)||(t=h.parsePathString(t)),!t||!t.length)return[["M",0,0]];var i=[],n=0,r=0,a=0,u=0,c=0;t[0][0]=="M"&&(a=n=+t[0][1],u=r=+t[0][2],c++,i[0]=["M",n,r]);for(var p,m,b=t.length==3&&t[0][0]=="M"&&t[1][0].toUpperCase()=="R"&&t[2][0].toUpperCase()=="Z",P=c,k=t.length;P<k;P++){if(i.push(p=[]),(m=t[P])[0]!=x.call(m[0]))switch(p[0]=x.call(m[0]),p[0]){case"A":p[1]=m[1],p[2]=m[2],p[3]=m[3],p[4]=m[4],p[5]=m[5],p[6]=+(m[6]+n),p[7]=+(m[7]+r);break;case"V":p[1]=+m[1]+r;break;case"H":p[1]=+m[1]+n;break;case"R":for(var _=[n,r][L](m.slice(1)),C=2,I=_.length;C<I;C++)_[C]=+_[C]+n,_[++C]=+_[C]+r;i.pop(),i=i[L](de(_,b));break;case"M":a=+m[1]+n,u=+m[2]+r;default:for(C=1,I=m.length;C<I;C++)p[C]=+m[C]+(C%2?n:r)}else if(m[0]=="R")_=[n,r][L](m.slice(1)),i.pop(),i=i[L](de(_,b)),p=["R"][L](m.slice(-2));else for(var M=0,w=m.length;M<w;M++)p[M]=m[M];switch(p[0]){case"Z":n=a,r=u;break;case"H":n=p[1];break;case"V":r=p[1];break;case"M":a=p[p.length-2],u=p[p.length-1];default:n=p[p.length-2],r=p[p.length-1]}}return i.toString=h._path2string,e.abs=Nt(i),i},xe=function(t,e,i,n){return[t,e,i,n,i,n]},te=function(t,e,i,n,r,a){return[1/3*t+2/3*i,1/3*e+2/3*n,1/3*r+2/3*i,1/3*a+2/3*n,r,a]},Re=function(t,e,i,n,r,a,u,c,p,m){var b,P=120*kt/180,k=kt/180*(+r||0),_=[],C=Tt(function(bi,wi,Ge){return{x:bi*V.cos(Ge)-wi*V.sin(Ge),y:bi*V.sin(Ge)+wi*V.cos(Ge)}});if(m)J=m[0],nt=m[1],z=m[2],it=m[3];else{t=(b=C(t,e,-k)).x,e=b.y,c=(b=C(c,p,-k)).x,p=b.y,V.cos(kt/180*r),V.sin(kt/180*r);var I=(t-c)/2,M=(e-p)/2,w=I*I/(i*i)+M*M/(n*n);w>1&&(i*=w=V.sqrt(w),n*=w);var D=i*i,B=n*n,O=(a==u?-1:1)*V.sqrt(gt((D*B-D*M*M-B*I*I)/(D*M*M+B*I*I))),z=O*i*M/n+(t+c)/2,it=O*-n*I/i+(e+p)/2,J=V.asin(((e-it)/n).toFixed(9)),nt=V.asin(((p-it)/n).toFixed(9));(J=t<z?kt-J:J)<0&&(J=2*kt+J),(nt=c<z?kt-nt:nt)<0&&(nt=2*kt+nt),u&&J>nt&&(J-=2*kt),!u&&nt>J&&(nt-=2*kt)}var _e=nt-J;if(gt(_e)>P){var ze=nt,Gt=c,Xt=p;nt=J+P*(u&&nt>J?1:-1),c=z+i*V.cos(nt),p=it+n*V.sin(nt),_=Re(c,p,i,n,r,0,u,Gt,Xt,[nt,ze,z,it])}_e=nt-J;var be=V.cos(J),we=V.sin(J),Oe=V.cos(nt),$t=V.sin(nt),le=V.tan(_e/4),Ne=4/3*i*le,mi=4/3*n*le,vi=[t,e],ke=[t+Ne*we,e-mi*be],xi=[c+Ne*$t,p-mi*Oe],yi=[c,p];if(ke[0]=2*vi[0]-ke[0],ke[1]=2*vi[1]-ke[1],m)return[ke,xi,yi][L](_);for(var _i=[],ie=0,Di=(_=[ke,xi,yi][L](_).join()[X](",")).length;ie<Di;ie++)_i[ie]=ie%2?C(_[ie-1],_[ie],k).y:C(_[ie],_[ie+1],k).x;return _i},oe=function(t,e,i,n,r,a,u,c,p){var m=1-p;return{x:bt(m,3)*t+3*bt(m,2)*p*i+3*m*p*p*r+bt(p,3)*u,y:bt(m,3)*e+3*bt(m,2)*p*n+3*m*p*p*a+bt(p,3)*c}},Le=Tt(function(t,e,i,n,r,a,u,c){var p,m=r-2*i+t-(u-2*r+i),b=2*(i-t)-2*(r-i),P=t-i,k=(-b+V.sqrt(b*b-4*m*P))/2/m,_=(-b-V.sqrt(b*b-4*m*P))/2/m,C=[e,c],I=[t,u];return gt(k)>"1e12"&&(k=.5),gt(_)>"1e12"&&(_=.5),k>0&&k<1&&(p=oe(t,e,i,n,r,a,u,c,k),I.push(p.x),C.push(p.y)),_>0&&_<1&&(p=oe(t,e,i,n,r,a,u,c,_),I.push(p.x),C.push(p.y)),m=a-2*n+e-(c-2*a+n),P=e-n,k=(-(b=2*(n-e)-2*(a-n))+V.sqrt(b*b-4*m*P))/2/m,_=(-b-V.sqrt(b*b-4*m*P))/2/m,gt(k)>"1e12"&&(k=.5),gt(_)>"1e12"&&(_=.5),k>0&&k<1&&(p=oe(t,e,i,n,r,a,u,c,k),I.push(p.x),C.push(p.y)),_>0&&_<1&&(p=oe(t,e,i,n,r,a,u,c,_),I.push(p.x),C.push(p.y)),{min:{x:U[q](0,I),y:U[q](0,C)},max:{x:Z[q](0,I),y:Z[q](0,C)}}}),Pe=h._path2curve=Tt(function(t,e){var i=!e&&Dt(t);if(!e&&i.curve)return Nt(i.curve);for(var n=ve(t),r=e&&ve(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=function(O,z,it){var J,nt;if(!O)return["C",z.x,z.y,z.x,z.y,z.x,z.y];switch(!(O[0]in{T:1,Q:1})&&(z.qx=z.qy=null),O[0]){case"M":z.X=O[1],z.Y=O[2];break;case"A":O=["C"][L](Re[q](0,[z.x,z.y][L](O.slice(1))));break;case"S":it=="C"||it=="S"?(J=2*z.x-z.bx,nt=2*z.y-z.by):(J=z.x,nt=z.y),O=["C",J,nt][L](O.slice(1));break;case"T":it=="Q"||it=="T"?(z.qx=2*z.x-z.qx,z.qy=2*z.y-z.qy):(z.qx=z.x,z.qy=z.y),O=["C"][L](te(z.x,z.y,z.qx,z.qy,O[1],O[2]));break;case"Q":z.qx=O[1],z.qy=O[2],O=["C"][L](te(z.x,z.y,O[1],O[2],O[3],O[4]));break;case"L":O=["C"][L](xe(z.x,z.y,O[1],O[2]));break;case"H":O=["C"][L](xe(z.x,z.y,O[1],z.y));break;case"V":O=["C"][L](xe(z.x,z.y,z.x,O[1]));break;case"Z":O=["C"][L](xe(z.x,z.y,z.X,z.Y))}return O},p=function(O,z){if(O[z].length>7){O[z].shift();for(var it=O[z];it.length;)b[z]="A",r&&(P[z]="A"),O.splice(z++,0,["C"][L](it.splice(0,6)));O.splice(z,1),I=Z(n.length,r&&r.length||0)}},m=function(O,z,it,J,nt){O&&z&&O[nt][0]=="M"&&z[nt][0]!="M"&&(z.splice(nt,0,["M",J.x,J.y]),it.bx=0,it.by=0,it.x=O[nt][1],it.y=O[nt][2],I=Z(n.length,r&&r.length||0))},b=[],P=[],k="",_="",C=0,I=Z(n.length,r&&r.length||0);C<I;C++){n[C]&&(k=n[C][0]),k!="C"&&(b[C]=k,C&&(_=b[C-1])),n[C]=c(n[C],a,_),b[C]!="A"&&k=="C"&&(b[C]="C"),p(n,C),r&&(r[C]&&(k=r[C][0]),k!="C"&&(P[C]=k,C&&(_=P[C-1])),r[C]=c(r[C],u,_),P[C]!="A"&&k=="C"&&(P[C]="C"),p(r,C)),m(n,r,a,u,C),m(r,n,u,a,C);var M=n[C],w=r&&r[C],D=M.length,B=r&&w.length;a.x=M[D-2],a.y=M[D-1],a.bx=g(M[D-4])||a.x,a.by=g(M[D-3])||a.y,u.bx=r&&(g(w[B-4])||u.x),u.by=r&&(g(w[B-3])||u.y),u.x=r&&w[B-2],u.y=r&&w[B-1]}return r||(i.curve=Nt(n)),r?[n,r]:n},null,Nt),Fe=(h._parseDots=Tt(function(t){for(var e=[],i=0,n=t.length;i<n;i++){var r={},a=t[i].match(/^([^:]*):?([\d\.]*)/);if(r.color=h.getRGB(a[1]),r.color.error)return null;r.opacity=r.color.opacity,r.color=r.color.hex,a[2]&&(r.offset=a[2]+"%"),e.push(r)}for(i=1,n=e.length-1;i<n;i++)if(!e[i].offset){for(var u=g(e[i-1].offset||0),c=0,p=i+1;p<n;p++)if(e[p].offset){c=e[p].offset;break}c||(c=100,p=n);for(var m=((c=g(c))-u)/(p-i+1);i<p;i++)u+=m,e[i].offset=u+"%"}return e}),h._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Li=(h._tofront=function(t,e){e.top!==t&&(Fe(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},h._toback=function(t,e){e.bottom!==t&&(Fe(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},h._insertafter=function(t,e,i){Fe(t,i),e==i.top&&(i.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},h._insertbefore=function(t,e,i){Fe(t,i),e==i.bottom&&(i.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},h.toMatrix=function(t,e){var i=Kt(t),n={_:{transform:et},getBBox:function(){return i}};return ri(n,e),n.matrix}),ri=(h.transformPath=function(t,e){return zt(t,Li(t,e))},h._extractTransform=function(t,e){if(e==null)return t._.transform;e=T(e).replace(/\.{3}|\u2026/g,t._.transform||et);var i,n,r=h.parseTransformString(e),a=0,u=1,c=1,p=t._,m=new se;if(p.transform=r||[],r)for(var b=0,P=r.length;b<P;b++){var k,_,C,I,M,w=r[b],D=w.length,B=T(w[0]).toLowerCase(),O=w[0]!=B,z=O?m.invert():0;B=="t"&&D==3?O?(k=z.x(0,0),_=z.y(0,0),C=z.x(w[1],w[2]),I=z.y(w[1],w[2]),m.translate(C-k,I-_)):m.translate(w[1],w[2]):B=="r"?D==2?(M=M||t.getBBox(1),m.rotate(w[1],M.x+M.width/2,M.y+M.height/2),a+=w[1]):D==4&&(O?(C=z.x(w[2],w[3]),I=z.y(w[2],w[3]),m.rotate(w[1],C,I)):m.rotate(w[1],w[2],w[3]),a+=w[1]):B=="s"?D==2||D==3?(M=M||t.getBBox(1),m.scale(w[1],w[D-1],M.x+M.width/2,M.y+M.height/2),u*=w[1],c*=w[D-1]):D==5&&(O?(C=z.x(w[3],w[4]),I=z.y(w[3],w[4]),m.scale(w[1],w[2],C,I)):m.scale(w[1],w[2],w[3],w[4]),u*=w[1],c*=w[2]):B=="m"&&D==7&&m.add(w[1],w[2],w[3],w[4],w[5],w[6]),p.dirtyT=1,t.matrix=m}t.matrix=m,p.sx=u,p.sy=c,p.deg=a,p.dx=i=m.e,p.dy=n=m.f,u==1&&c==1&&!a&&p.bbox?(p.bbox.x+=+i,p.bbox.y+=+n):p.dirtyT=1}),oi=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return t.length==4?[e,0,t[2],t[3]]:[e,0];case"s":return t.length==5?[e,1,1,t[3],t[4]]:t.length==3?[e,1,1]:[e,1]}},Fi=h._equaliseTransform=function(t,e){e=T(e).replace(/\.{3}|\u2026/g,t),t=h.parseTransformString(t)||[],e=h.parseTransformString(e)||[];for(var i,n,r,a,u=Z(t.length,e.length),c=[],p=[],m=0;m<u;m++){if(r=t[m]||oi(e[m]),a=e[m]||oi(r),r[0]!=a[0]||r[0].toLowerCase()=="r"&&(r[2]!=a[2]||r[3]!=a[3])||r[0].toLowerCase()=="s"&&(r[3]!=a[3]||r[4]!=a[4]))return;for(c[m]=[],p[m]=[],i=0,n=Z(r.length,a.length);i<n;i++)i in r&&(c[m][i]=r[i]),i in a&&(p[m][i]=a[i])}return{from:c,to:p}};function se(t,e,i,n,r,a){t!=null?(this.a=+t,this.b=+e,this.c=+i,this.d=+n,this.e=+r,this.f=+a):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}h._getContainer=function(t,e,i,n){var r;if((r=n!=null||h.is(t,"object")?t:$.doc.getElementById(t))!=null)return r.tagName?e==null?{container:r,width:r.style.pixelWidth||r.offsetWidth,height:r.style.pixelHeight||r.offsetHeight}:{container:r,width:e,height:i}:{container:1,x:t,y:e,width:i,height:n}},h.pathToRelative=ni,h._engine={},h.path2curve=Pe,h.matrix=function(t,e,i,n,r,a){return new se(t,e,i,n,r,a)},function(t){function e(n){return n[0]*n[0]+n[1]*n[1]}function i(n){var r=V.sqrt(e(n));n[0]&&(n[0]/=r),n[1]&&(n[1]/=r)}t.add=function(n,r,a,u,c,p){var m,b,P,k,_=[[],[],[]],C=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],I=[[n,a,c],[r,u,p],[0,0,1]];for(n&&n instanceof se&&(I=[[n.a,n.c,n.e],[n.b,n.d,n.f],[0,0,1]]),m=0;m<3;m++)for(b=0;b<3;b++){for(k=0,P=0;P<3;P++)k+=C[m][P]*I[P][b];_[m][b]=k}this.a=_[0][0],this.b=_[1][0],this.c=_[0][1],this.d=_[1][1],this.e=_[0][2],this.f=_[1][2]},t.invert=function(){var n=this,r=n.a*n.d-n.b*n.c;return new se(n.d/r,-n.b/r,-n.c/r,n.a/r,(n.c*n.f-n.d*n.e)/r,(n.b*n.e-n.a*n.f)/r)},t.clone=function(){return new se(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(n,r){this.add(1,0,0,1,n,r)},t.scale=function(n,r,a,u){r==null&&(r=n),(a||u)&&this.add(1,0,0,1,a,u),this.add(n,0,0,r,0,0),(a||u)&&this.add(1,0,0,1,-a,-u)},t.rotate=function(n,r,a){n=h.rad(n),r=r||0,a=a||0;var u=+V.cos(n).toFixed(9),c=+V.sin(n).toFixed(9);this.add(u,c,-c,u,r,a),this.add(1,0,0,1,-r,-a)},t.x=function(n,r){return n*this.a+r*this.c+this.e},t.y=function(n,r){return n*this.b+r*this.d+this.f},t.get=function(n){return+this[T.fromCharCode(97+n)].toFixed(4)},t.toString=function(){return h.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var n={};n.dx=this.e,n.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];n.scalex=V.sqrt(e(r[0])),i(r[0]),n.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*n.shear,r[1][1]-r[0][1]*n.shear],n.scaley=V.sqrt(e(r[1])),i(r[1]),n.shear/=n.scaley;var a=-r[0][1],u=r[1][1];return u<0?(n.rotate=h.deg(V.acos(u)),a<0&&(n.rotate=360-n.rotate)):n.rotate=h.deg(V.asin(a)),n.isSimple=!(+n.shear.toFixed(9)||n.scalex.toFixed(9)!=n.scaley.toFixed(9)&&n.rotate),n.isSuperSimple=!+n.shear.toFixed(9)&&n.scalex.toFixed(9)==n.scaley.toFixed(9)&&!n.rotate,n.noRotation=!+n.shear.toFixed(9)&&!n.rotate,n},t.toTransformString=function(n){var r=n||this[X]();return r.isSimple?(r.scalex=+r.scalex.toFixed(4),r.scaley=+r.scaley.toFixed(4),r.rotate=+r.rotate.toFixed(4),(r.dx||r.dy?"t"+[r.dx,r.dy]:et)+(r.scalex!=1||r.scaley!=1?"s"+[r.scalex,r.scaley,0,0]:et)+(r.rotate?"r"+[r.rotate,0,0]:et)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(se.prototype);for(var Oi=function(){this.returnValue=!1},Ni=function(){return this.originalEvent.preventDefault()},Gi=function(){this.cancelBubble=!0},Ai=function(){return this.originalEvent.stopPropagation()},si=function(t){var e=$.doc.documentElement.scrollTop||$.doc.body.scrollTop,i=$.doc.documentElement.scrollLeft||$.doc.body.scrollLeft;return{x:t.clientX+i,y:t.clientY+e}},Vi=$.doc.addEventListener?function(t,e,i,n){var r=function(u){var c=si(u);return i.call(n,u,c.x,c.y)};if(t.addEventListener(e,r,!1),ot&&pt[e]){var a=function(u){for(var c=si(u),p=u,m=0,b=u.targetTouches&&u.targetTouches.length;m<b;m++)if(u.targetTouches[m].target==t){(u=u.targetTouches[m]).originalEvent=p,u.preventDefault=Ni,u.stopPropagation=Ai;break}return i.call(n,u,c.x,c.y)};t.addEventListener(pt[e],a,!1)}return function(){return t.removeEventListener(e,r,!1),ot&&pt[e]&&t.removeEventListener(pt[e],a,!1),!0}}:$.doc.attachEvent?function(t,e,i,n){var r=function(a){a=a||$.win.event;var u=$.doc.documentElement.scrollTop||$.doc.body.scrollTop,c=$.doc.documentElement.scrollLeft||$.doc.body.scrollLeft,p=a.clientX+c,m=a.clientY+u;return a.preventDefault=a.preventDefault||Oi,a.stopPropagation=a.stopPropagation||Gi,i.call(n,a,p,m)};return t.attachEvent("on"+e,r),function(){return t.detachEvent("on"+e,r),!0}}:void 0,ee=[],Ye=function(t){for(var e,i=t.clientX,n=t.clientY,r=$.doc.documentElement.scrollTop||$.doc.body.scrollTop,a=$.doc.documentElement.scrollLeft||$.doc.body.scrollLeft,u=ee.length;u--;){if(e=ee[u],ot&&t.touches){for(var c,p=t.touches.length;p--;)if((c=t.touches[p]).identifier==e.el._drag.id){i=c.clientX,n=c.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var m,b=e.el.node,P=b.nextSibling,k=b.parentNode,_=b.style.display;$.win.opera&&k.removeChild(b),b.style.display="none",m=e.el.paper.getElementByPoint(i,n),b.style.display=_,$.win.opera&&(P?k.insertBefore(b,P):k.appendChild(b)),m&&d("raphael.drag.over."+e.el.id,e.el,m),i+=a,n+=r,d("raphael.drag.move."+e.el.id,e.move_scope||e.el,i-e.el._drag.x,n-e.el._drag.y,i,n,t)}},Ue=function(t){h.unmousemove(Ye).unmouseup(Ue);for(var e,i=ee.length;i--;)(e=ee[i]).el._drag={},d("raphael.drag.end."+e.el.id,e.end_scope||e.start_scope||e.move_scope||e.el,t);ee=[]},mt=h.el={},ai=W.length;ai--;)(function(t){h[t]=mt[t]=function(e,i){return h.is(e,"function")&&(this.events=this.events||[],this.events.push({name:t,f:e,unbind:Vi(this.shape||this.node||$.doc,t,e,i||this)})),this},h["un"+t]=mt["un"+t]=function(e){for(var i=this.events||[],n=i.length;n--;)i[n].name!=t||!h.is(e,"undefined")&&i[n].f!=e||(i[n].unbind(),i.splice(n,1),!i.length&&delete this.events);return this}})(W[ai]);mt.data=function(t,e){var i=xt[this.id]=xt[this.id]||{};if(arguments.length==0)return i;if(arguments.length==1){if(h.is(t,"object")){for(var n in t)t[ft](n)&&this.data(n,t[n]);return this}return d("raphael.data.get."+this.id,this,i[t],t),i[t]}return i[t]=e,d("raphael.data.set."+this.id,this,e,t),this},mt.removeData=function(t){return t==null?delete xt[this.id]:xt[this.id]&&delete xt[this.id][t],this},mt.getData=function(){return Ft(xt[this.id]||{})},mt.hover=function(t,e,i,n){return this.mouseover(t,i).mouseout(e,n||i)},mt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var ye=[];mt.drag=function(t,e,i,n,r,a){function u(c){(c.originalEvent||c).preventDefault();var p=c.clientX,m=c.clientY,b=$.doc.documentElement.scrollTop||$.doc.body.scrollTop,P=$.doc.documentElement.scrollLeft||$.doc.body.scrollLeft;if(this._drag.id=c.identifier,ot&&c.touches){for(var k,_=c.touches.length;_--;)if(k=c.touches[_],this._drag.id=k.identifier,k.identifier==this._drag.id){p=k.clientX,m=k.clientY;break}}this._drag.x=p+P,this._drag.y=m+b,!ee.length&&h.mousemove(Ye).mouseup(Ue),ee.push({el:this,move_scope:n,start_scope:r,end_scope:a}),e&&d.on("raphael.drag.start."+this.id,e),t&&d.on("raphael.drag.move."+this.id,t),i&&d.on("raphael.drag.end."+this.id,i),d("raphael.drag.start."+this.id,r||n||this,this._drag.x,this._drag.y,c)}return this._drag={},ye.push({el:this,start:u}),this.mousedown(u),this},mt.onDragOver=function(t){t?d.on("raphael.drag.over."+this.id,t):d.unbind("raphael.drag.over."+this.id)},mt.undrag=function(){for(var t=ye.length;t--;)ye[t].el==this&&(this.unmousedown(ye[t].start),ye.splice(t,1),d.unbind("raphael.drag.*."+this.id));!ye.length&&h.unmousemove(Ye).unmouseup(Ue),ee=[]},j.circle=function(t,e,i){var n=h._engine.circle(this,t||0,e||0,i||0);return this.__set__&&this.__set__.push(n),n},j.rect=function(t,e,i,n,r){var a=h._engine.rect(this,t||0,e||0,i||0,n||0,r||0);return this.__set__&&this.__set__.push(a),a},j.ellipse=function(t,e,i,n){var r=h._engine.ellipse(this,t||0,e||0,i||0,n||0);return this.__set__&&this.__set__.push(r),r},j.path=function(t){t&&!h.is(t,"string")&&!h.is(t[0],ht)&&(t+=et);var e=h._engine.path(h.format[q](h,arguments),this);return this.__set__&&this.__set__.push(e),e},j.image=function(t,e,i,n,r){var a=h._engine.image(this,t||"about:blank",e||0,i||0,n||0,r||0);return this.__set__&&this.__set__.push(a),a},j.text=function(t,e,i){var n=h._engine.text(this,t||0,e||0,T(i));return this.__set__&&this.__set__.push(n),n},j.set=function(t){!h.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new Be(t);return this.__set__&&this.__set__.push(e),e.paper=this,e.type="set",e},j.setStart=function(t){this.__set__=t||this.set()},j.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},j.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},j.setSize=function(t,e){return h._engine.setSize.call(this,t,e)},j.setViewBox=function(t,e,i,n,r){return h._engine.setViewBox.call(this,t,e,i,n,r)},j.top=j.bottom=null,j.raphael=h;function li(){return this.x+rt+this.y+rt+this.width+" \xD7 "+this.height}j.getElementByPoint=function(t,e){var i,n,r,a,u,c,p,m=this.canvas,b=$.doc.elementFromPoint(t,e);if($.win.opera&&b.tagName=="svg"){var P=(n=(i=m).getBoundingClientRect(),r=i.ownerDocument,a=r.body,u=r.documentElement,c=u.clientTop||a.clientTop||0,p=u.clientLeft||a.clientLeft||0,{y:n.top+($.win.pageYOffset||u.scrollTop||a.scrollTop)-c,x:n.left+($.win.pageXOffset||u.scrollLeft||a.scrollLeft)-p}),k=m.createSVGRect();k.x=t-P.x,k.y=e-P.y,k.width=k.height=1;var _=m.getIntersectionList(k,null);_.length&&(b=_[_.length-1])}if(!b)return null;for(;b.parentNode&&b!=m.parentNode&&!b.raphael;)b=b.parentNode;return b==this.canvas.parentNode&&(b=m),b=b&&b.raphael?this.getById(b.raphaelid):null},j.getElementsByBBox=function(t){var e=this.set();return this.forEach(function(i){h.isBBoxIntersect(i.getBBox(),t)&&e.push(i)}),e},j.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},j.forEach=function(t,e){for(var i=this.bottom;i;){if(t.call(e,i)===!1)return this;i=i.next}return this},j.getElementsByPoint=function(t,e){var i=this.set();return this.forEach(function(n){n.isPointInside(t,e)&&i.push(n)}),i},mt.isPointInside=function(t,e){var i=this.realPath=Mt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(i=h.transformPath(i,this.attr("transform"))),h.isPointInsidePath(i,t,e)},mt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=Mt[this.type](this),e.bboxwt=Kt(this.realPath),e.bboxwt.toString=li,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=Mt[this.type](this)),e.bbox=Kt(zt(this.realPath,this.matrix)),e.bbox.toString=li,e.dirty=e.dirtyT=0),e.bbox)},mt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},mt.glow=function(t){if(this.type=="text")return null;var e={width:((t=t||{}).width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity==null?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},i=e.width/2,n=this.paper,r=n.set(),a=this.realPath||Mt[this.type](this);a=this.matrix?zt(a,this.matrix):a;for(var u=1;u<i+1;u++)r.push(n.path(a).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/i*u).toFixed(3),opacity:+(e.opacity/i).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};var $e=function(t,e,i,n,r,a,u,c,p){return p==null?Ht(t,e,i,n,r,a,u,c):h.findDotsAtSegment(t,e,i,n,r,a,u,c,function(m,b,P,k,_,C,I,M,w){if(!(w<0||Ht(m,b,P,k,_,C,I,M)<w)){var D,B=.5,O=1-B;for(D=Ht(m,b,P,k,_,C,I,M,O);gt(D-w)>.01;)D=Ht(m,b,P,k,_,C,I,M,O+=(D<w?1:-1)*(B/=2));return O}}(t,e,i,n,r,a,u,c,p))},Qe=function(t,e){return function(i,n,r){for(var a,u,c,p,m,b="",P={},k=0,_=0,C=(i=Pe(i)).length;_<C;_++){if((c=i[_])[0]=="M")a=+c[1],u=+c[2];else{if(k+(p=$e(a,u,c[1],c[2],c[3],c[4],c[5],c[6]))>n){if(e&&!P.start){if(b+=["C"+(m=$e(a,u,c[1],c[2],c[3],c[4],c[5],c[6],n-k)).start.x,m.start.y,m.m.x,m.m.y,m.x,m.y],r)return b;P.start=b,b=["M"+m.x,m.y+"C"+m.n.x,m.n.y,m.end.x,m.end.y,c[5],c[6]].join(),k+=p,a=+c[5],u=+c[6];continue}if(!t&&!e)return{x:(m=$e(a,u,c[1],c[2],c[3],c[4],c[5],c[6],n-k)).x,y:m.y,alpha:m.alpha}}k+=p,a=+c[5],u=+c[6]}b+=c.shift()+c}return P.end=b,(m=t?k:e?P:h.findDotsAtSegment(a,u,c[0],c[1],c[2],c[3],c[4],c[5],1)).alpha&&(m={x:m.x,y:m.y,alpha:m.alpha}),m}},hi=Qe(1),ci=Qe(),Ze=Qe(0,1);h.getTotalLength=hi,h.getPointAtLength=ci,h.getSubpath=function(t,e,i){if(this.getTotalLength(t)-i<1e-6)return Ze(t,e).end;var n=Ze(t,i,1);return e?Ze(n,e).end:n},mt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():hi(t)},mt.getPointAtLength=function(t){var e=this.getPath();if(e)return ci(e,t)},mt.getPath=function(){var t,e=h._getPath[this.type];if(this.type!="text"&&this.type!="set")return e&&(t=e(this)),t},mt.getSubpath=function(t,e){var i=this.getPath();if(i)return h.getSubpath(i,t,e)};var jt=h.easing_formulas={linear:function(t){return t},"<":function(t){return bt(t,1.7)},">":function(t){return bt(t,.48)},"<>":function(t){var e=.48-t/1.04,i=V.sqrt(.1734+e*e),n=i-e,r=-i-e,a=bt(gt(n),1/3)*(n<0?-1:1)+bt(gt(r),1/3)*(r<0?-1:1)+.5;return 3*(1-a)*a*a+a*a*a},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:bt(2,-10*t)*V.sin(2*kt*(t-.075)/.3)+1},bounce:function(t){var e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375}};jt.easeIn=jt["ease-in"]=jt["<"],jt.easeOut=jt["ease-out"]=jt[">"],jt.easeInOut=jt["ease-in-out"]=jt["<>"],jt["back-in"]=jt.backIn,jt["back-out"]=jt.backOut;var ut=[],ui=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},We=function(){for(var t=+new Date,e=0;e<ut.length;e++){var i=ut[e];if(!i.el.removed&&!i.paused){var n,r,a=t-i.start,u=i.ms,c=i.easing,p=i.from,m=i.diff,b=i.to,P=(i.t,i.el),k={},_={};if(i.initstatus?(a=(i.initstatus*i.anim.top-i.prev)/(i.percent-i.prev)*u,i.status=i.initstatus,delete i.initstatus,i.stop&&ut.splice(e--,1)):i.status=(i.prev+(i.percent-i.prev)*(a/u))/i.anim.top,!(a<0))if(a<u){var C=c(a/u);for(var I in p)if(p[ft](I)){switch(y[I]){case st:n=+p[I]+C*u*m[I];break;case"colour":n="rgb("+[Je(f(p[I].r+C*u*m[I].r)),Je(f(p[I].g+C*u*m[I].g)),Je(f(p[I].b+C*u*m[I].b))].join(",")+")";break;case"path":n=[];for(var M=0,w=p[I].length;M<w;M++){n[M]=[p[I][M][0]];for(var D=1,B=p[I][M].length;D<B;D++)n[M][D]=+p[I][M][D]+C*u*m[I][M][D];n[M]=n[M].join(rt)}n=n.join(rt);break;case"transform":if(m[I].real)for(n=[],M=0,w=p[I].length;M<w;M++)for(n[M]=[p[I][M][0]],D=1,B=p[I][M].length;D<B;D++)n[M][D]=p[I][M][D]+C*u*m[I][M][D];else{var O=function(it){return+p[I][it]+C*u*m[I][it]};n=[["m",O(0),O(1),O(2),O(3),O(4),O(5)]]}break;case"csv":if(I=="clip-rect")for(n=[],M=4;M--;)n[M]=+p[I][M]+C*u*m[I][M];break;default:var z=[][L](p[I]);for(n=[],M=P.paper.customAttributes[I].length;M--;)n[M]=+z[M]+C*u*m[I][M]}k[I]=n}P.attr(k),function(it,J,nt){setTimeout(function(){d("raphael.anim.frame."+it,J,nt)})}(P.id,P,i.anim)}else{if(function(it,J,nt){setTimeout(function(){d("raphael.anim.frame."+J.id,J,nt),d("raphael.anim.finish."+J.id,J,nt),h.is(it,"function")&&it.call(J)})}(i.callback,P,i.anim),P.attr(b),ut.splice(e--,1),i.repeat>1&&!i.next){for(r in b)b[ft](r)&&(_[r]=i.totalOrigin[r]);i.el.attr(_),Ie(i.anim,i.el,i.anim.percents[0],null,i.totalOrigin,i.repeat-1)}i.next&&!i.stop&&Ie(i.anim,i.el,i.next,null,i.totalOrigin,i.repeat)}}}ut.length&&ui(We)},Je=function(t){return t>255?255:t<0?0:t};function ji(t,e,i,n,r,a){var u=3*e,c=3*(n-e)-u,p=1-u-c,m=3*i,b=3*(r-i)-m,P=1-m-b;function k(_){return((p*_+c)*_+u)*_}return function(_,C){var I=function(M,w){var D,B,O,z,it,J;for(O=M,J=0;J<8;J++){if(z=k(O)-M,gt(z)<w)return O;if(gt(it=(3*p*O+2*c)*O+u)<1e-6)break;O-=z/it}if(B=1,(O=M)<(D=0))return D;if(O>B)return B;for(;D<B;){if(z=k(O),gt(z-M)<w)return O;M>z?D=O:B=O,O=(B-D)/2+D}return O}(_,C);return((P*I+b)*I+m)*I}(t,1/(200*a))}function Ut(t,e){var i=[],n={};if(this.ms=e,this.times=1,t){for(var r in t)t[ft](r)&&(n[g(r)]=t[r],i.push(g(r)));i.sort(yt)}this.anim=n,this.top=i[i.length-1],this.percents=i}function Ie(t,e,i,n,r,a){i=g(i);var u,c,p,m,b,P,k=t.ms,_={},C={},I={};if(n)for(w=0,D=ut.length;w<D;w++){var M=ut[w];if(M.el.id==e.id&&M.anim==t){M.percent!=i?(ut.splice(w,1),p=1):c=M,e.attr(M.totalOrigin);break}}else n=+C;for(var w=0,D=t.percents.length;w<D;w++){if(t.percents[w]==i||t.percents[w]>n*t.top){i=t.percents[w],b=t.percents[w-1]||0,k=k/t.top*(i-b),m=t.percents[w+1],u=t.anim[i];break}n&&e.attr(t.anim[t.percents[w]])}if(u){if(c)c.initstatus=n,c.start=new Date-c.ms*n;else{for(var B in u)if(u[ft](B)&&(y[ft](B)||e.paper.customAttributes[ft](B)))switch(_[B]=e.attr(B),_[B]==null&&(_[B]=S[B]),C[B]=u[B],y[B]){case st:I[B]=(C[B]-_[B])/k;break;case"colour":_[B]=h.getRGB(_[B]);var O=h.getRGB(C[B]);I[B]={r:(O.r-_[B].r)/k,g:(O.g-_[B].g)/k,b:(O.b-_[B].b)/k};break;case"path":var z=Pe(_[B],C[B]),it=z[1];for(_[B]=z[0],I[B]=[],w=0,D=_[B].length;w<D;w++){I[B][w]=[0];for(var J=1,nt=_[B][w].length;J<nt;J++)I[B][w][J]=(it[w][J]-_[B][w][J])/k}break;case"transform":var _e=e._,ze=Fi(_e[B],C[B]);if(ze)for(_[B]=ze.from,C[B]=ze.to,I[B]=[],I[B].real=!0,w=0,D=_[B].length;w<D;w++)for(I[B][w]=[_[B][w][0]],J=1,nt=_[B][w].length;J<nt;J++)I[B][w][J]=(C[B][w][J]-_[B][w][J])/k;else{var Gt=e.matrix||new se,Xt={_:{transform:_e.transform},getBBox:function(){return e.getBBox(1)}};_[B]=[Gt.a,Gt.b,Gt.c,Gt.d,Gt.e,Gt.f],ri(Xt,C[B]),C[B]=Xt._.transform,I[B]=[(Xt.matrix.a-Gt.a)/k,(Xt.matrix.b-Gt.b)/k,(Xt.matrix.c-Gt.c)/k,(Xt.matrix.d-Gt.d)/k,(Xt.matrix.e-Gt.e)/k,(Xt.matrix.f-Gt.f)/k]}break;case"csv":var be=T(u[B])[X](Et),we=T(_[B])[X](Et);if(B=="clip-rect")for(_[B]=we,I[B]=[],w=we.length;w--;)I[B][w]=(be[w]-_[B][w])/k;C[B]=be;break;default:for(be=[][L](u[B]),we=[][L](_[B]),I[B]=[],w=e.paper.customAttributes[B].length;w--;)I[B][w]=((be[w]||0)-(we[w]||0))/k}var Oe=u.easing,$t=h.easing_formulas[Oe];if(!$t)if(($t=T(Oe).match(o))&&$t.length==5){var le=$t;$t=function(Ne){return ji(Ne,+le[1],+le[2],+le[3],+le[4],k)}}else $t=dt;if(M={anim:t,percent:i,timestamp:P=u.start||t.start||+new Date,start:P+(t.del||0),status:0,initstatus:n||0,stop:!1,ms:k,easing:$t,from:_,diff:I,to:C,el:e,callback:u.callback,prev:b,next:m,repeat:a||t.times,origin:e.attr(),totalOrigin:r},ut.push(M),n&&!c&&!p&&(M.stop=!0,M.start=new Date-k*n,ut.length==1))return We();p&&(M.start=new Date-M.ms*n),ut.length==1&&ui(We)}d("raphael.anim.start."+e.id,e,t)}}function fi(t){for(var e=0;e<ut.length;e++)ut[e].el.paper==t&&ut.splice(e--,1)}mt.animateWith=function(t,e,i,n,r,a){if(this.removed)return a&&a.call(this),this;var u=i instanceof Ut?i:h.animation(i,n,r,a);Ie(u,this,u.percents[0],null,this.attr());for(var c=0,p=ut.length;c<p;c++)if(ut[c].anim==e&&ut[c].el==t){ut[p-1].start=ut[c].start;break}return this},mt.onAnimation=function(t){return t?d.on("raphael.anim.frame."+this.id,t):d.unbind("raphael.anim.frame."+this.id),this},Ut.prototype.delay=function(t){var e=new Ut(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},Ut.prototype.repeat=function(t){var e=new Ut(this.anim,this.ms);return e.del=this.del,e.times=V.floor(Z(t,0))||1,e},h.animation=function(t,e,i,n){if(t instanceof Ut)return t;!h.is(i,"function")&&i||(n=n||i||null,i=null),t=Object(t),e=+e||0;var r,a,u={};for(a in t)t[ft](a)&&g(a)!=a&&g(a)+"%"!=a&&(r=!0,u[a]=t[a]);if(r)return i&&(u.easing=i),n&&(u.callback=n),new Ut({100:u},e);if(n){var c=0;for(var p in t){var m=v(p);t[ft](p)&&m>c&&(c=m)}!t[c+="%"].callback&&(t[c].callback=n)}return new Ut(t,e)},mt.animate=function(t,e,i,n){if(this.removed)return n&&n.call(this),this;var r=t instanceof Ut?t:h.animation(t,e,i,n);return Ie(r,this,r.percents[0],null,this.attr()),this},mt.setTime=function(t,e){return t&&e!=null&&this.status(t,U(e,t.ms)/t.ms),this},mt.status=function(t,e){var i,n,r=[],a=0;if(e!=null)return Ie(t,this,-1,U(e,1)),this;for(i=ut.length;a<i;a++)if((n=ut[a]).el.id==this.id&&(!t||n.anim==t)){if(t)return n.status;r.push({anim:n.anim,status:n.status})}return t?0:r},mt.pause=function(t){for(var e=0;e<ut.length;e++)ut[e].el.id!=this.id||t&&ut[e].anim!=t||d("raphael.anim.pause."+this.id,this,ut[e].anim)!==!1&&(ut[e].paused=!0);return this},mt.resume=function(t){for(var e=0;e<ut.length;e++)if(ut[e].el.id==this.id&&(!t||ut[e].anim==t)){var i=ut[e];d("raphael.anim.resume."+this.id,this,i.anim)!==!1&&(delete i.paused,this.status(i.anim,i.status))}return this},mt.stop=function(t){for(var e=0;e<ut.length;e++)ut[e].el.id!=this.id||t&&ut[e].anim!=t||d("raphael.anim.stop."+this.id,this,ut[e].anim)!==!1&&ut.splice(e--,1);return this},d.on("raphael.remove",fi),d.on("raphael.clear",fi),mt.toString=function(){return"Rapha\xEBl\u2019s object"};var pi,di,ae,gi,Be=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,i=t.length;e<i;e++)!t[e]||t[e].constructor!=mt.constructor&&t[e].constructor!=Be||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},Rt=Be.prototype;for(var Ke in Rt.push=function(){for(var t,e,i=0,n=arguments.length;i<n;i++)!(t=arguments[i])||t.constructor!=mt.constructor&&t.constructor!=Be||(this[e=this.items.length]=this.items[e]=t,this.length++);return this},Rt.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},Rt.forEach=function(t,e){for(var i=0,n=this.items.length;i<n;i++)if(t.call(e,this.items[i],i)===!1)return this;return this},mt)mt[ft](Ke)&&(Rt[Ke]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t][q](i,e)})}}(Ke));return Rt.attr=function(t,e){if(t&&h.is(t,ht)&&h.is(t[0],"object"))for(var i=0,n=t.length;i<n;i++)this.items[i].attr(t[i]);else for(var r=0,a=this.items.length;r<a;r++)this.items[r].attr(t,e);return this},Rt.clear=function(){for(;this.length;)this.pop()},Rt.splice=function(t,e,i){t=t<0?Z(this.length+t,0):t,e=Z(0,U(this.length-t,e));var n,r=[],a=[],u=[];for(n=2;n<arguments.length;n++)u.push(arguments[n]);for(n=0;n<e;n++)a.push(this[t+n]);for(;n<this.length-t;n++)r.push(this[t+n]);var c=u.length;for(n=0;n<c+r.length;n++)this.items[t+n]=this[t+n]=n<c?u[n]:r[n-c];for(n=this.items.length=this.length-=e-c;this[n];)delete this[n++];return new Be(a)},Rt.exclude=function(t){for(var e=0,i=this.length;e<i;e++)if(this[e]==t)return this.splice(e,1),!0},Rt.animate=function(t,e,i,n){(h.is(i,"function")||!i)&&(n=i||null);var r,a,u=this.items.length,c=u,p=this;if(!u)return this;n&&(a=function(){!--u&&n.call(p)}),i=h.is(i,"string")?i:a;var m=h.animation(t,e,i,a);for(r=this.items[--c].animate(m);c--;)this.items[c]&&!this.items[c].removed&&this.items[c].animateWith(r,m,m),this.items[c]&&!this.items[c].removed||u--;return this},Rt.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},Rt.getBBox=function(){for(var t=[],e=[],i=[],n=[],r=this.items.length;r--;)if(!this.items[r].removed){var a=this.items[r].getBBox();t.push(a.x),e.push(a.y),i.push(a.x+a.width),n.push(a.y+a.height)}return{x:t=U[q](0,t),y:e=U[q](0,e),x2:i=Z[q](0,i),y2:n=Z[q](0,n),width:i-t,height:n-e}},Rt.clone=function(t){t=this.paper.set();for(var e=0,i=this.items.length;e<i;e++)t.push(this.items[e].clone());return t},Rt.toString=function(){return"Rapha\xEBl\u2018s set"},Rt.glow=function(t){var e=this.paper.set();return this.forEach(function(i,n){var r=i.glow(t);r?.forEach(function(a,u){e.push(a)})}),e},Rt.isPointInside=function(t,e){var i=!1;return this.forEach(function(n){if(n.isPointInside(t,e))return i=!0,!1}),i},h.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},i=t.face["font-family"];for(var n in t.face)t.face[ft](n)&&(e.face[n]=t.face[n]);if(this.fonts[i]?this.fonts[i].push(e):this.fonts[i]=[e],!t.svg){for(var r in e.face["units-per-em"]=v(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[ft](r)){var a=t.glyphs[r];if(e.glyphs[r]={w:a.w,k:{},d:a.d&&"M"+a.d.replace(/[mlcxtrv]/g,function(c){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[c]||"M"})+"z"},a.k)for(var u in a.k)a[ft](u)&&(e.glyphs[r].k[u]=a.k[u])}}return t},j.getFont=function(t,e,i,n){if(n=n||"normal",i=i||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,h.fonts){var r,a=h.fonts[t];if(!a){var u=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,et)+"(\\s|$)","i");for(var c in h.fonts)if(h.fonts[ft](c)&&u.test(c)){a=h.fonts[c];break}}if(a)for(var p=0,m=a.length;p<m&&((r=a[p]).face["font-weight"]!=e||r.face["font-style"]!=i&&r.face["font-style"]||r.face["font-stretch"]!=n);p++);return r}},j.print=function(t,e,i,n,r,a,u,c){a=a||"middle",u=Z(U(u||0,1),-1),c=Z(U(c||1,3),1);var p,m=T(i)[X](et),b=0,P=0,k=et;if(h.is(n,"string")&&(n=this.getFont(n)),n){p=(r||16)/n.face["units-per-em"];for(var _=n.face.bbox[X](Et),C=+_[0],I=_[3]-_[1],M=0,w=+_[1]+(a=="baseline"?I+ +n.face.descent:I/2),D=0,B=m.length;D<B;D++){if(m[D]==`
`)b=0,z=0,P=0,M+=I*c;else{var O=P&&n.glyphs[m[D-1]]||{},z=n.glyphs[m[D]];b+=P?(O.w||n.w)+(O.k&&O.k[m[D]]||0)+n.w*u:0,P=1}z&&z.d&&(k+=h.transformPath(z.d,["t",b*p,M*p,"s",p,p,C,w,"t",(t-C)/p,(e-w)/p]))}}return this.path(k).attr({fill:"#000",stroke:"none"})},j.add=function(t){if(h.is(t,"array"))for(var e,i=this.set(),n=0,r=t.length;n<r;n++)e=t[n]||{},vt[ft](e.type)&&i.push(this[e.type]().attr(e));return i},h.format=function(t,e){var i=h.is(e,ht)?[0][L](e):arguments;return t&&h.is(t,"string")&&i.length-1&&(t=t.replace(qt,function(n,r){return i[++r]==null?et:i[r]})),t||et},h.fullfill=(pi=/\{([^\}]+)\}/g,di=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(t,e){return String(t).replace(pi,function(i,n){return function(r,a,u){var c=u;return a.replace(di,function(p,m,b,P,k){m=m||P,c&&(m in c&&(c=c[m]),typeof c=="function"&&k&&(c=c()))}),c=(c==null||c==u?r:c)+""}(i,n,e)})}),h.ninja=function(){if(Pt.was)$.win.Raphael=Pt.is;else{window.Raphael=void 0;try{delete window.Raphael}catch{}}return h},h.st=Rt,d.on("raphael.DOMload",function(){H=!0}),(ae=document).readyState==null&&ae.addEventListener&&(ae.addEventListener("DOMContentLoaded",gi=function(){ae.removeEventListener("DOMContentLoaded",gi,!1),ae.readyState="complete"},!1),ae.readyState="loading"),function t(){/in/.test(ae.readyState)?setTimeout(t,9):h.eve("raphael.DOMload")}(),h}.apply(N,F))===void 0||(Q.exports=G)},function(Q,N,E){var F,G;F=[E(0),E(3),E(4)],(G=function(d){return d}.apply(N,F))===void 0||(Q.exports=G)},function(Q,N,E){var F,G,d,h,H,j,Et,vt,qt,ft,$,Pt,Bt,q;h="hasOwnProperty",H=/[\.\/]/,j=/\s*,\s*/,Et=function(L,ot){return L-ot},vt={n:{}},qt=function(){for(var L=0,ot=this.length;L<ot;L++)if(this[L]!==void 0)return this[L]},ft=function(){for(var L=this.length;--L;)if(this[L]!==void 0)return this[L]},$=Object.prototype.toString,Pt=String,Bt=Array.isArray||function(L){return L instanceof Array||$.call(L)=="[object Array]"},(q=function(L,ot){var et,rt=d,T=Array.prototype.slice.call(arguments,2),X=q.listeners(L),W=0,pt=[],K={},V=[],Z=G;V.firstDefined=qt,V.lastDefined=ft,G=L,d=0;for(var U=0,gt=X.length;U<gt;U++)"zIndex"in X[U]&&(pt.push(X[U].zIndex),X[U].zIndex<0&&(K[X[U].zIndex]=X[U]));for(pt.sort(Et);pt[W]<0;)if(et=K[pt[W++]],V.push(et.apply(ot,T)),d)return d=rt,V;for(U=0;U<gt;U++)if("zIndex"in(et=X[U]))if(et.zIndex==pt[W]){if(V.push(et.apply(ot,T)),d)break;do if((et=K[pt[++W]])&&V.push(et.apply(ot,T)),d)break;while(et)}else K[et.zIndex]=et;else if(V.push(et.apply(ot,T)),d)break;return d=rt,G=Z,V})._events=vt,q.listeners=function(L){var ot,et,rt,T,X,W,pt,K,V=Bt(L)?L:L.split(H),Z=vt,U=[Z],gt=[];for(T=0,X=V.length;T<X;T++){for(K=[],W=0,pt=U.length;W<pt;W++)for(et=[(Z=U[W].n)[V[T]],Z["*"]],rt=2;rt--;)(ot=et[rt])&&(K.push(ot),gt=gt.concat(ot.f||[]));U=K}return gt},q.separator=function(L){L?(L="["+(L=Pt(L).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",H=new RegExp(L)):H=/[\.\/]/},q.on=function(L,ot){if(typeof ot!="function")return function(){};for(var et=Bt(L)?Bt(L[0])?L:[L]:Pt(L).split(j),rt=0,T=et.length;rt<T;rt++)(function(X){for(var W,pt=Bt(X)?X:Pt(X).split(H),K=vt,V=0,Z=pt.length;V<Z;V++)K=(K=K.n).hasOwnProperty(pt[V])&&K[pt[V]]||(K[pt[V]]={n:{}});for(K.f=K.f||[],V=0,Z=K.f.length;V<Z;V++)if(K.f[V]==ot){W=!0;break}!W&&K.f.push(ot)})(et[rt]);return function(X){+X==+X&&(ot.zIndex=+X)}},q.f=function(L){var ot=[].slice.call(arguments,1);return function(){q.apply(null,[L,null].concat(ot).concat([].slice.call(arguments,0)))}},q.stop=function(){d=1},q.nt=function(L){var ot=Bt(G)?G.join("."):G;return L?new RegExp("(?:\\.|\\/|^)"+L+"(?:\\.|\\/|$)").test(ot):ot},q.nts=function(){return Bt(G)?G:G.split(H)},q.off=q.unbind=function(L,ot){if(L){var et=Bt(L)?Bt(L[0])?L:[L]:Pt(L).split(j);if(et.length>1)for(var rt=0,T=et.length;rt<T;rt++)q.off(et[rt],ot);else{et=Bt(L)?L:Pt(L).split(H);var X,W,pt,K,V,Z=[vt];for(rt=0,T=et.length;rt<T;rt++)for(K=0;K<Z.length;K+=pt.length-2){if(pt=[K,1],X=Z[K].n,et[rt]!="*")X[et[rt]]&&pt.push(X[et[rt]]);else for(W in X)X[h](W)&&pt.push(X[W]);Z.splice.apply(Z,pt)}for(rt=0,T=Z.length;rt<T;rt++)for(X=Z[rt];X.n;){if(ot){if(X.f){for(K=0,V=X.f.length;K<V;K++)if(X.f[K]==ot){X.f.splice(K,1);break}!X.f.length&&delete X.f}for(W in X.n)if(X.n[h](W)&&X.n[W].f){var U=X.n[W].f;for(K=0,V=U.length;K<V;K++)if(U[K]==ot){U.splice(K,1);break}!U.length&&delete X.n[W].f}}else for(W in delete X.f,X.n)X.n[h](W)&&X.n[W].f&&delete X.n[W].f;X=X.n}}}else q._events=vt={n:{}}},q.once=function(L,ot){var et=function(){return q.off(L,et),ot.apply(this,arguments)};return q.on(L,et)},q.version="0.5.0",q.toString=function(){return"You are running Eve 0.5.0"},Q.exports?Q.exports=q:(F=function(){return q}.apply(N,[]))===void 0||(Q.exports=F)},function(Q,N,E){var F,G;F=[E(0)],(G=function(d){if(!d||d.svg){var h="hasOwnProperty",H=String,j=parseFloat,Et=parseInt,vt=Math,qt=vt.max,ft=vt.abs,$=vt.pow,Pt=/[, ]+/,Bt=d.eve,q="",L=" ",ot="http://www.w3.org/1999/xlink",et={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},rt={};d.toString=function(){return`Your browser supports SVG.
You are running Rapha\xEBl `+this.version};var T=function(l,s){if(s)for(var o in typeof l=="string"&&(l=T(l)),s)s[h](o)&&(o.substring(0,6)=="xlink:"?l.setAttributeNS(ot,o.substring(6),H(s[o])):l.setAttribute(o,H(s[o])));else(l=d._g.doc.createElementNS("http://www.w3.org/2000/svg",l)).style&&(l.style.webkitTapHighlightColor="rgba(0,0,0,0)");return l},X=function(l,s){var o="linear",f=l.id+s,g=.5,v=.5,x=l.node,S=l.paper,y=x.style,R=d._g.doc.getElementById(f);if(!R){if(s=(s=H(s).replace(d._radial_gradient,function(yt,dt,tt){if(o="radial",dt&&tt){g=j(dt);var It=2*((v=j(tt))>.5)-1;$(g-.5,2)+$(v-.5,2)>.25&&(v=vt.sqrt(.25-$(g-.5,2))*It+.5)&&v!=.5&&(v=v.toFixed(5)-1e-5*It)}return q})).split(/\s*\-\s*/),o=="linear"){var A=s.shift();if(A=-j(A),isNaN(A))return null;var Y=[0,0,vt.cos(d.rad(A)),vt.sin(d.rad(A))],at=1/(qt(ft(Y[2]),ft(Y[3]))||1);Y[2]*=at,Y[3]*=at,Y[2]<0&&(Y[0]=-Y[2],Y[2]=0),Y[3]<0&&(Y[1]=-Y[3],Y[3]=0)}var ct=d._parseDots(s);if(!ct)return null;if(f=f.replace(/[\(\)\s,\xb0#]/g,"_"),l.gradient&&f!=l.gradient.id&&(S.defs.removeChild(l.gradient),delete l.gradient),!l.gradient){R=T(o+"Gradient",{id:f}),l.gradient=R,T(R,o=="radial"?{fx:g,fy:v}:{x1:Y[0],y1:Y[1],x2:Y[2],y2:Y[3],gradientTransform:l.matrix.invert()}),S.defs.appendChild(R);for(var lt=0,xt=ct.length;lt<xt;lt++)R.appendChild(T("stop",{offset:ct[lt].offset?ct[lt].offset:lt?"100%":"0%","stop-color":ct[lt].color||"#fff","stop-opacity":isFinite(ct[lt].opacity)?ct[lt].opacity:1}))}}return T(x,{fill:W(f),opacity:1,"fill-opacity":1}),y.fill=q,y.opacity=1,y.fillOpacity=1,1},W=function(l){if((s=document.documentMode)&&(s===9||s===10))return"url('#"+l+"')";var s,o=document.location;return"url('"+(o.protocol+"//"+o.host+o.pathname+o.search)+"#"+l+"')"},pt=function(l){var s=l.getBBox(1);T(l.pattern,{patternTransform:l.matrix.invert()+" translate("+s.x+","+s.y+")"})},K=function(l,s,o){if(l.type=="path"){for(var f,g,v,x,S,y=H(s).toLowerCase().split("-"),R=l.paper,A=o?"end":"start",Y=l.node,at=l.attrs,ct=at["stroke-width"],lt=y.length,xt="classic",yt=3,dt=3,tt=5;lt--;)switch(y[lt]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":xt=y[lt];break;case"wide":dt=5;break;case"narrow":dt=2;break;case"long":yt=5;break;case"short":yt=2}if(xt=="open"?(yt+=2,dt+=2,tt+=2,v=1,x=o?4:1,S={fill:"none",stroke:at.stroke}):(x=v=yt/2,S={fill:at.stroke,stroke:"none"}),l._.arrows?o?(l._.arrows.endPath&&rt[l._.arrows.endPath]--,l._.arrows.endMarker&&rt[l._.arrows.endMarker]--):(l._.arrows.startPath&&rt[l._.arrows.startPath]--,l._.arrows.startMarker&&rt[l._.arrows.startMarker]--):l._.arrows={},xt!="none"){var It="raphael-marker-"+xt,Mt="raphael-marker-"+A+xt+yt+dt+"-obj"+l.id;d._g.doc.getElementById(It)?rt[It]++:(R.defs.appendChild(T(T("path"),{"stroke-linecap":"round",d:et[xt],id:It})),rt[It]=1);var zt,_t=d._g.doc.getElementById(Mt);_t?(rt[Mt]++,zt=_t.getElementsByTagName("use")[0]):(_t=T(T("marker"),{id:Mt,markerHeight:dt,markerWidth:yt,orient:"auto",refX:x,refY:dt/2}),zt=T(T("use"),{"xlink:href":"#"+It,transform:(o?"rotate(180 "+yt/2+" "+dt/2+") ":q)+"scale("+yt/tt+","+dt/tt+")","stroke-width":(1/((yt/tt+dt/tt)/2)).toFixed(4)}),_t.appendChild(zt),R.defs.appendChild(_t),rt[Mt]=1),T(zt,S);var Vt=v*(xt!="diamond"&&xt!="oval");o?(f=l._.arrows.startdx*ct||0,g=d.getTotalLength(at.path)-Vt*ct):(f=Vt*ct,g=d.getTotalLength(at.path)-(l._.arrows.enddx*ct||0)),(S={})["marker-"+A]="url(#"+Mt+")",(g||f)&&(S.d=d.getSubpath(at.path,f,g)),T(Y,S),l._.arrows[A+"Path"]=It,l._.arrows[A+"Marker"]=Mt,l._.arrows[A+"dx"]=Vt,l._.arrows[A+"Type"]=xt,l._.arrows[A+"String"]=s}else o?(f=l._.arrows.startdx*ct||0,g=d.getTotalLength(at.path)-f):(f=0,g=d.getTotalLength(at.path)-(l._.arrows.enddx*ct||0)),l._.arrows[A+"Path"]&&T(Y,{d:d.getSubpath(at.path,f,g)}),delete l._.arrows[A+"Path"],delete l._.arrows[A+"Marker"],delete l._.arrows[A+"dx"],delete l._.arrows[A+"Type"],delete l._.arrows[A+"String"];for(S in rt)if(rt[h](S)&&!rt[S]){var Ft=d._g.doc.getElementById(S);Ft&&Ft.parentNode.removeChild(Ft)}}},V={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},Z=function(l,s,o){if(s=V[H(s).toLowerCase()]){for(var f=l.attrs["stroke-width"]||"1",g={round:f,square:f,butt:0}[l.attrs["stroke-linecap"]||o["stroke-linecap"]]||0,v=[],x=s.length;x--;)v[x]=s[x]*f+(x%2?1:-1)*g;T(l.node,{"stroke-dasharray":v.join(",")})}else T(l.node,{"stroke-dasharray":"none"})},U=function(l,s){var o=l.node,f=l.attrs,g=o.style.visibility;for(var v in o.style.visibility="hidden",s)if(s[h](v)){if(!d._availableAttrs[h](v))continue;var x=s[v];switch(f[v]=x,v){case"blur":l.blur(x);break;case"title":var S=o.getElementsByTagName("title");if(S.length&&(S=S[0]))S.firstChild.nodeValue=x;else{S=T("title");var y=d._g.doc.createTextNode(x);S.appendChild(y),o.appendChild(S)}break;case"href":case"target":var R=o.parentNode;if(R.tagName.toLowerCase()!="a"){var A=T("a");R.insertBefore(A,o),A.appendChild(o),R=A}v=="target"?R.setAttributeNS(ot,"show",x=="blank"?"new":x):R.setAttributeNS(ot,v,x);break;case"cursor":o.style.cursor=x;break;case"transform":l.transform(x);break;case"arrow-start":K(l,x);break;case"arrow-end":K(l,x,1);break;case"clip-rect":var Y=H(x).split(Pt);if(Y.length==4){l.clip&&l.clip.parentNode.parentNode.removeChild(l.clip.parentNode);var at=T("clipPath"),ct=T("rect");at.id=d.createUUID(),T(ct,{x:Y[0],y:Y[1],width:Y[2],height:Y[3]}),at.appendChild(ct),l.paper.defs.appendChild(at),T(o,{"clip-path":"url(#"+at.id+")"}),l.clip=ct}if(!x){var lt=o.getAttribute("clip-path");if(lt){var xt=d._g.doc.getElementById(lt.replace(/(^url\(#|\)$)/g,q));xt&&xt.parentNode.removeChild(xt),T(o,{"clip-path":q}),delete l.clip}}break;case"path":l.type=="path"&&(T(o,{d:x?f.path=d._pathToAbsolute(x):"M0,0"}),l._.dirty=1,l._.arrows&&("startString"in l._.arrows&&K(l,l._.arrows.startString),"endString"in l._.arrows&&K(l,l._.arrows.endString,1)));break;case"width":if(o.setAttribute(v,x),l._.dirty=1,!f.fx)break;v="x",x=f.x;case"x":f.fx&&(x=-f.x-(f.width||0));case"rx":if(v=="rx"&&l.type=="rect")break;case"cx":o.setAttribute(v,x),l.pattern&&pt(l),l._.dirty=1;break;case"height":if(o.setAttribute(v,x),l._.dirty=1,!f.fy)break;v="y",x=f.y;case"y":f.fy&&(x=-f.y-(f.height||0));case"ry":if(v=="ry"&&l.type=="rect")break;case"cy":o.setAttribute(v,x),l.pattern&&pt(l),l._.dirty=1;break;case"r":l.type=="rect"?T(o,{rx:x,ry:x}):o.setAttribute(v,x),l._.dirty=1;break;case"src":l.type=="image"&&o.setAttributeNS(ot,"href",x);break;case"stroke-width":l._.sx==1&&l._.sy==1||(x/=qt(ft(l._.sx),ft(l._.sy))||1),o.setAttribute(v,x),f["stroke-dasharray"]&&Z(l,f["stroke-dasharray"],s),l._.arrows&&("startString"in l._.arrows&&K(l,l._.arrows.startString),"endString"in l._.arrows&&K(l,l._.arrows.endString,1));break;case"stroke-dasharray":Z(l,x,s);break;case"fill":var yt=H(x).match(d._ISURL);if(yt){at=T("pattern");var dt=T("image");at.id=d.createUUID(),T(at,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),T(dt,{x:0,y:0,"xlink:href":yt[1]}),at.appendChild(dt),function(_t){d._preload(yt[1],function(){var Vt=this.offsetWidth,Ft=this.offsetHeight;T(_t,{width:Vt,height:Ft}),T(dt,{width:Vt,height:Ft})})}(at),l.paper.defs.appendChild(at),T(o,{fill:"url(#"+at.id+")"}),l.pattern=at,l.pattern&&pt(l);break}var tt=d.getRGB(x);if(tt.error){if((l.type=="circle"||l.type=="ellipse"||H(x).charAt()!="r")&&X(l,x)){if("opacity"in f||"fill-opacity"in f){var It=d._g.doc.getElementById(o.getAttribute("fill").replace(/^url\(#|\)$/g,q));if(It){var Mt=It.getElementsByTagName("stop");T(Mt[Mt.length-1],{"stop-opacity":("opacity"in f?f.opacity:1)*("fill-opacity"in f?f["fill-opacity"]:1)})}}f.gradient=x,f.fill="none";break}}else delete s.gradient,delete f.gradient,!d.is(f.opacity,"undefined")&&d.is(s.opacity,"undefined")&&T(o,{opacity:f.opacity}),!d.is(f["fill-opacity"],"undefined")&&d.is(s["fill-opacity"],"undefined")&&T(o,{"fill-opacity":f["fill-opacity"]});tt[h]("opacity")&&T(o,{"fill-opacity":tt.opacity>1?tt.opacity/100:tt.opacity});case"stroke":tt=d.getRGB(x),o.setAttribute(v,tt.hex),v=="stroke"&&tt[h]("opacity")&&T(o,{"stroke-opacity":tt.opacity>1?tt.opacity/100:tt.opacity}),v=="stroke"&&l._.arrows&&("startString"in l._.arrows&&K(l,l._.arrows.startString),"endString"in l._.arrows&&K(l,l._.arrows.endString,1));break;case"gradient":(l.type=="circle"||l.type=="ellipse"||H(x).charAt()!="r")&&X(l,x);break;case"opacity":f.gradient&&!f[h]("stroke-opacity")&&T(o,{"stroke-opacity":x>1?x/100:x});case"fill-opacity":if(f.gradient){(It=d._g.doc.getElementById(o.getAttribute("fill").replace(/^url\(#|\)$/g,q)))&&(Mt=It.getElementsByTagName("stop"),T(Mt[Mt.length-1],{"stop-opacity":x}));break}default:v=="font-size"&&(x=Et(x,10)+"px");var zt=v.replace(/(\-.)/g,function(_t){return _t.substring(1).toUpperCase()});o.style[zt]=x,l._.dirty=1,o.setAttribute(v,x)}}gt(l,s),o.style.visibility=g},gt=function(l,s){if(l.type=="text"&&(s[h]("text")||s[h]("font")||s[h]("font-size")||s[h]("x")||s[h]("y"))){var o=l.attrs,f=l.node,g=f.firstChild?Et(d._g.doc.defaultView.getComputedStyle(f.firstChild,q).getPropertyValue("font-size"),10):10;if(s[h]("text")){for(o.text=s.text;f.firstChild;)f.removeChild(f.firstChild);for(var v,x=H(s.text).split(`
`),S=[],y=0,R=x.length;y<R;y++)v=T("tspan"),y&&T(v,{dy:1.2*g,x:o.x}),v.appendChild(d._g.doc.createTextNode(x[y])),f.appendChild(v),S[y]=v}else for(y=0,R=(S=f.getElementsByTagName("tspan")).length;y<R;y++)y?T(S[y],{dy:1.2*g,x:o.x}):T(S[0],{dy:0});T(f,{x:o.x,y:o.y}),l._.dirty=1;var A=l._getBBox(),Y=o.y-(A.y+A.height/2);Y&&d.is(Y,"finite")&&T(S[0],{dy:Y})}},bt=function(l){return l.parentNode&&l.parentNode.tagName.toLowerCase()==="a"?l.parentNode:l},kt=function(l,s){this[0]=this.node=l,l.raphael=!0,this.id=("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5),l.raphaelid=this.id,this.matrix=d.matrix(),this.realPath=null,this.paper=s,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!s.bottom&&(s.bottom=this),this.prev=s.top,s.top&&(s.top.next=this),s.top=this,this.next=null},st=d.el;kt.prototype=st,st.constructor=kt,d._engine.path=function(l,s){var o=T("path");s.canvas&&s.canvas.appendChild(o);var f=new kt(o,s);return f.type="path",U(f,{fill:"none",stroke:"#000",path:l}),f},st.rotate=function(l,s,o){if(this.removed)return this;if((l=H(l).split(Pt)).length-1&&(s=j(l[1]),o=j(l[2])),l=j(l[0]),o==null&&(s=o),s==null||o==null){var f=this.getBBox(1);s=f.x+f.width/2,o=f.y+f.height/2}return this.transform(this._.transform.concat([["r",l,s,o]])),this},st.scale=function(l,s,o,f){if(this.removed)return this;if((l=H(l).split(Pt)).length-1&&(s=j(l[1]),o=j(l[2]),f=j(l[3])),l=j(l[0]),s==null&&(s=l),f==null&&(o=f),o==null||f==null)var g=this.getBBox(1);return o=o??g.x+g.width/2,f=f??g.y+g.height/2,this.transform(this._.transform.concat([["s",l,s,o,f]])),this},st.translate=function(l,s){return this.removed?this:((l=H(l).split(Pt)).length-1&&(s=j(l[1])),l=j(l[0])||0,s=+s||0,this.transform(this._.transform.concat([["t",l,s]])),this)},st.transform=function(l){var s=this._;if(l==null)return s.transform;if(d._extractTransform(this,l),this.clip&&T(this.clip,{transform:this.matrix.invert()}),this.pattern&&pt(this),this.node&&T(this.node,{transform:this.matrix}),s.sx!=1||s.sy!=1){var o=this.attrs[h]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":o})}return this},st.hide=function(){return this.removed||(this.node.style.display="none"),this},st.show=function(){return this.removed||(this.node.style.display=""),this},st.remove=function(){var l=bt(this.node);if(!this.removed&&l.parentNode){var s=this.paper;for(var o in s.__set__&&s.__set__.exclude(this),Bt.unbind("raphael.*.*."+this.id),this.gradient&&s.defs.removeChild(this.gradient),d._tear(this,s),l.parentNode.removeChild(l),this.removeData(),this)this[o]=typeof this[o]=="function"?d._removedFactory(o):null;this.removed=!0}},st._getBBox=function(){if(this.node.style.display=="none"){this.show();var l=!0}var s,o=!1;this.paper.canvas.parentElement?s=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(s=this.paper.canvas.parentNode.style),s&&s.display=="none"&&(o=!0,s.display="");var f={};try{f=this.node.getBBox()}catch{f={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{f=f||{},o&&(s.display="none")}return l&&this.hide(),f},st.attr=function(l,s){if(this.removed)return this;if(l==null){var o={};for(var f in this.attrs)this.attrs[h](f)&&(o[f]=this.attrs[f]);return o.gradient&&o.fill=="none"&&(o.fill=o.gradient)&&delete o.gradient,o.transform=this._.transform,o}if(s==null&&d.is(l,"string")){if(l=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;if(l=="transform")return this._.transform;for(var g=l.split(Pt),v={},x=0,S=g.length;x<S;x++)(l=g[x])in this.attrs?v[l]=this.attrs[l]:d.is(this.paper.customAttributes[l],"function")?v[l]=this.paper.customAttributes[l].def:v[l]=d._availableAttrs[l];return S-1?v:v[g[0]]}if(s==null&&d.is(l,"array")){for(v={},x=0,S=l.length;x<S;x++)v[l[x]]=this.attr(l[x]);return v}if(s!=null){var y={};y[l]=s}else l!=null&&d.is(l,"object")&&(y=l);for(var R in y)Bt("raphael.attr."+R+"."+this.id,this,y[R]);for(R in this.paper.customAttributes)if(this.paper.customAttributes[h](R)&&y[h](R)&&d.is(this.paper.customAttributes[R],"function")){var A=this.paper.customAttributes[R].apply(this,[].concat(y[R]));for(var Y in this.attrs[R]=y[R],A)A[h](Y)&&(y[Y]=A[Y])}return U(this,y),this},st.toFront=function(){if(this.removed)return this;var l=bt(this.node);l.parentNode.appendChild(l);var s=this.paper;return s.top!=this&&d._tofront(this,s),this},st.toBack=function(){if(this.removed)return this;var l=bt(this.node),s=l.parentNode;return s.insertBefore(l,s.firstChild),d._toback(this,this.paper),this.paper,this},st.insertAfter=function(l){if(this.removed||!l)return this;var s=bt(this.node),o=bt(l.node||l[l.length-1].node);return o.nextSibling?o.parentNode.insertBefore(s,o.nextSibling):o.parentNode.appendChild(s),d._insertafter(this,l,this.paper),this},st.insertBefore=function(l){if(this.removed||!l)return this;var s=bt(this.node),o=bt(l.node||l[0].node);return o.parentNode.insertBefore(s,o),d._insertbefore(this,l,this.paper),this},st.blur=function(l){var s=this;if(+l!=0){var o=T("filter"),f=T("feGaussianBlur");s.attrs.blur=l,o.id=d.createUUID(),T(f,{stdDeviation:+l||1.5}),o.appendChild(f),s.paper.defs.appendChild(o),s._blur=o,T(s.node,{filter:"url(#"+o.id+")"})}else s._blur&&(s._blur.parentNode.removeChild(s._blur),delete s._blur,delete s.attrs.blur),s.node.removeAttribute("filter");return s},d._engine.circle=function(l,s,o,f){var g=T("circle");l.canvas&&l.canvas.appendChild(g);var v=new kt(g,l);return v.attrs={cx:s,cy:o,r:f,fill:"none",stroke:"#000"},v.type="circle",T(g,v.attrs),v},d._engine.rect=function(l,s,o,f,g,v){var x=T("rect");l.canvas&&l.canvas.appendChild(x);var S=new kt(x,l);return S.attrs={x:s,y:o,width:f,height:g,rx:v||0,ry:v||0,fill:"none",stroke:"#000"},S.type="rect",T(x,S.attrs),S},d._engine.ellipse=function(l,s,o,f,g){var v=T("ellipse");l.canvas&&l.canvas.appendChild(v);var x=new kt(v,l);return x.attrs={cx:s,cy:o,rx:f,ry:g,fill:"none",stroke:"#000"},x.type="ellipse",T(v,x.attrs),x},d._engine.image=function(l,s,o,f,g,v){var x=T("image");T(x,{x:o,y:f,width:g,height:v,preserveAspectRatio:"none"}),x.setAttributeNS(ot,"href",s),l.canvas&&l.canvas.appendChild(x);var S=new kt(x,l);return S.attrs={x:o,y:f,width:g,height:v,src:s},S.type="image",S},d._engine.text=function(l,s,o,f){var g=T("text");l.canvas&&l.canvas.appendChild(g);var v=new kt(g,l);return v.attrs={x:s,y:o,"text-anchor":"middle",text:f,"font-family":d._availableAttrs["font-family"],"font-size":d._availableAttrs["font-size"],stroke:"none",fill:"#000"},v.type="text",U(v,v.attrs),v},d._engine.setSize=function(l,s){return this.width=l||this.width,this.height=s||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},d._engine.create=function(){var l=d._getContainer.apply(0,arguments),s=l&&l.container;if(!s)throw new Error("SVG container not found.");var o,f=l.x,g=l.y,v=l.width,x=l.height,S=T("svg"),y="overflow:hidden;";return f=f||0,g=g||0,T(S,{height:x=x||342,version:1.1,width:v=v||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),s==1?(S.style.cssText=y+"position:absolute;left:"+f+"px;top:"+g+"px",d._g.doc.body.appendChild(S),o=1):(S.style.cssText=y+"position:relative",s.firstChild?s.insertBefore(S,s.firstChild):s.appendChild(S)),(s=new d._Paper).width=v,s.height=x,s.canvas=S,s.clear(),s._left=s._top=0,o&&(s.renderfix=function(){}),s.renderfix(),s},d._engine.setViewBox=function(l,s,o,f,g){Bt("raphael.setViewBox",this,this._viewBox,[l,s,o,f,g]);var v,x,S=this.getSize(),y=qt(o/S.width,f/S.height),R=this.top,A=g?"xMidYMid meet":"xMinYMin";for(l==null?(this._vbSize&&(y=1),delete this._vbSize,v="0 0 "+this.width+L+this.height):(this._vbSize=y,v=l+L+s+L+o+L+f),T(this.canvas,{viewBox:v,preserveAspectRatio:A});y&&R;)x="stroke-width"in R.attrs?R.attrs["stroke-width"]:1,R.attr({"stroke-width":x}),R._.dirty=1,R._.dirtyT=1,R=R.prev;return this._viewBox=[l,s,o,f,!!g],this},d.prototype.renderfix=function(){var l,s=this.canvas,o=s.style;try{l=s.getScreenCTM()||s.createSVGMatrix()}catch{l=s.createSVGMatrix()}var f=-l.e%1,g=-l.f%1;(f||g)&&(f&&(this._left=(this._left+f)%1,o.left=this._left+"px"),g&&(this._top=(this._top+g)%1,o.top=this._top+"px"))},d.prototype.clear=function(){d.eve("raphael.clear",this);for(var l=this.canvas;l.firstChild;)l.removeChild(l.firstChild);this.bottom=this.top=null,(this.desc=T("desc")).appendChild(d._g.doc.createTextNode("Created with Rapha\xEBl "+d.version)),l.appendChild(this.desc),l.appendChild(this.defs=T("defs"))},d.prototype.remove=function(){for(var l in Bt("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[l]=typeof this[l]=="function"?d._removedFactory(l):null};var ht=d.st;for(var Yt in st)st[h](Yt)&&!ht[h](Yt)&&(ht[Yt]=function(l){return function(){var s=arguments;return this.forEach(function(o){o[l].apply(o,s)})}}(Yt))}}.apply(N,F))===void 0||(Q.exports=G)},function(Q,N,E){var F,G;F=[E(0)],(G=function(d){if(!d||d.vml){var h="hasOwnProperty",H=String,j=parseFloat,Et=Math,vt=Et.round,qt=Et.max,ft=Et.min,$=Et.abs,Pt=/[, ]+/,Bt=d.eve,q=" ",L="",ot={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},et=/([clmz]),?([^clmz]*)/gi,rt=/ progid:\S+Blur\([^\)]+\)/g,T=/-?[^,\s-]+/g,X="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",W=21600,pt={path:1,rect:1,image:1},K={circle:1,ellipse:1},V=function(s,o,f){var g=d.matrix();return g.rotate(-s,.5,.5),{dx:g.x(o,f),dy:g.y(o,f)}},Z=function(s,o,f,g,v,x){var S=s._,y=s.matrix,R=S.fillpos,A=s.node,Y=A.style,at=1,ct="",lt=W/o,xt=W/f;if(Y.visibility="hidden",o&&f){if(A.coordsize=$(lt)+q+$(xt),Y.rotation=x*(o*f<0?-1:1),x){var yt=V(x,g,v);g=yt.dx,v=yt.dy}if(o<0&&(ct+="x"),f<0&&(ct+=" y")&&(at=-1),Y.flip=ct,A.coordorigin=g*-lt+q+v*-xt,R||S.fillsize){var dt=A.getElementsByTagName("fill");dt=dt&&dt[0],A.removeChild(dt),R&&(yt=V(x,y.x(R[0],R[1]),y.y(R[0],R[1])),dt.position=yt.dx*at+q+yt.dy*at),S.fillsize&&(dt.size=S.fillsize[0]*$(o)+q+S.fillsize[1]*$(f)),A.appendChild(dt)}Y.visibility="visible"}};d.toString=function(){return`Your browser doesn\u2019t support SVG. Falling down to VML.
You are running Rapha\xEBl `+this.version};var U,gt=function(s,o,f){for(var g=H(o).toLowerCase().split("-"),v=f?"end":"start",x=g.length,S="classic",y="medium",R="medium";x--;)switch(g[x]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":S=g[x];break;case"wide":case"narrow":R=g[x];break;case"long":case"short":y=g[x]}var A=s.node.getElementsByTagName("stroke")[0];A[v+"arrow"]=S,A[v+"arrowlength"]=y,A[v+"arrowwidth"]=R},bt=function(s,o){s.attrs=s.attrs||{};var f=s.node,g=s.attrs,v=f.style,x=pt[s.type]&&(o.x!=g.x||o.y!=g.y||o.width!=g.width||o.height!=g.height||o.cx!=g.cx||o.cy!=g.cy||o.rx!=g.rx||o.ry!=g.ry||o.r!=g.r),S=K[s.type]&&(g.cx!=o.cx||g.cy!=o.cy||g.r!=o.r||g.rx!=o.rx||g.ry!=o.ry),y=s;for(var R in o)o[h](R)&&(g[R]=o[R]);if(x&&(g.path=d._getPath[s.type](s),s._.dirty=1),o.href&&(f.href=o.href),o.title&&(f.title=o.title),o.target&&(f.target=o.target),o.cursor&&(v.cursor=o.cursor),"blur"in o&&s.blur(o.blur),(o.path&&s.type=="path"||x)&&(f.path=function(Tt){var Jt=/[ahqstv]/gi,de=d._pathToAbsolute;if(H(Tt).match(Jt)&&(de=d._path2curve),Jt=/[clmz]/g,de==d._pathToAbsolute&&!H(Tt).match(Jt)){var Dt=H(Tt).replace(et,function(ni,ve,xe){var te=[],Re=ve.toLowerCase()=="m",oe=ot[ve];return xe.replace(T,function(Le){Re&&te.length==2&&(oe+=te+ot[ve=="m"?"l":"L"],te=[]),te.push(vt(Le*W))}),oe+te});return Dt}var ge,Ht,Me=de(Tt);Dt=[];for(var me=0,Se=Me.length;me<Se;me++){ge=Me[me],(Ht=Me[me][0].toLowerCase())=="z"&&(Ht="x");for(var Kt=1,Nt=ge.length;Kt<Nt;Kt++)Ht+=vt(ge[Kt]*W)+(Kt!=Nt-1?",":L);Dt.push(Ht)}return Dt.join(q)}(~H(g.path).toLowerCase().indexOf("r")?d._pathToAbsolute(g.path):g.path),s._.dirty=1,s.type=="image"&&(s._.fillpos=[g.x,g.y],s._.fillsize=[g.width,g.height],Z(s,1,1,0,0,0))),"transform"in o&&s.transform(o.transform),S){var A=+g.cx,Y=+g.cy,at=+g.rx||+g.r||0,ct=+g.ry||+g.r||0;f.path=d.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",vt((A-at)*W),vt((Y-ct)*W),vt((A+at)*W),vt((Y+ct)*W),vt(A*W)),s._.dirty=1}if("clip-rect"in o){var lt=H(o["clip-rect"]).split(Pt);if(lt.length==4){lt[2]=+lt[2]+ +lt[0],lt[3]=+lt[3]+ +lt[1];var xt=f.clipRect||d._g.doc.createElement("div"),yt=xt.style;yt.clip=d.format("rect({1}px {2}px {3}px {0}px)",lt),f.clipRect||(yt.position="absolute",yt.top=0,yt.left=0,yt.width=s.paper.width+"px",yt.height=s.paper.height+"px",f.parentNode.insertBefore(xt,f),xt.appendChild(f),f.clipRect=xt)}o["clip-rect"]||f.clipRect&&(f.clipRect.style.clip="auto")}if(s.textpath){var dt=s.textpath.style;o.font&&(dt.font=o.font),o["font-family"]&&(dt.fontFamily='"'+o["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,L)+'"'),o["font-size"]&&(dt.fontSize=o["font-size"]),o["font-weight"]&&(dt.fontWeight=o["font-weight"]),o["font-style"]&&(dt.fontStyle=o["font-style"])}if("arrow-start"in o&&gt(y,o["arrow-start"]),"arrow-end"in o&&gt(y,o["arrow-end"],1),o.opacity!=null||o.fill!=null||o.src!=null||o.stroke!=null||o["stroke-width"]!=null||o["stroke-opacity"]!=null||o["fill-opacity"]!=null||o["stroke-dasharray"]!=null||o["stroke-miterlimit"]!=null||o["stroke-linejoin"]!=null||o["stroke-linecap"]!=null){var tt=f.getElementsByTagName("fill");if(!(tt=tt&&tt[0])&&(tt=U("fill")),s.type=="image"&&o.src&&(tt.src=o.src),o.fill&&(tt.on=!0),tt.on!=null&&o.fill!="none"&&o.fill!==null||(tt.on=!1),tt.on&&o.fill){var It=H(o.fill).match(d._ISURL);if(It){tt.parentNode==f&&f.removeChild(tt),tt.rotate=!0,tt.src=It[1],tt.type="tile";var Mt=s.getBBox(1);tt.position=Mt.x+q+Mt.y,s._.fillpos=[Mt.x,Mt.y],d._preload(It[1],function(){s._.fillsize=[this.offsetWidth,this.offsetHeight]})}else tt.color=d.getRGB(o.fill).hex,tt.src=L,tt.type="solid",d.getRGB(o.fill).error&&(y.type in{circle:1,ellipse:1}||H(o.fill).charAt()!="r")&&kt(y,o.fill,tt)&&(g.fill="none",g.gradient=o.fill,tt.rotate=!1)}if("fill-opacity"in o||"opacity"in o){var zt=((+g["fill-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+d.getRGB(o.fill).o+1||2)-1);zt=ft(qt(zt,0),1),tt.opacity=zt,tt.src&&(tt.color="none")}f.appendChild(tt);var _t=f.getElementsByTagName("stroke")&&f.getElementsByTagName("stroke")[0],Vt=!1;!_t&&(Vt=_t=U("stroke")),(o.stroke&&o.stroke!="none"||o["stroke-width"]||o["stroke-opacity"]!=null||o["stroke-dasharray"]||o["stroke-miterlimit"]||o["stroke-linejoin"]||o["stroke-linecap"])&&(_t.on=!0),(o.stroke=="none"||o.stroke===null||_t.on==null||o.stroke==0||o["stroke-width"]==0)&&(_t.on=!1);var Ft=d.getRGB(o.stroke);_t.on&&o.stroke&&(_t.color=Ft.hex),zt=((+g["stroke-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+Ft.o+1||2)-1);var Zt=.75*(j(o["stroke-width"])||1);if(zt=ft(qt(zt,0),1),o["stroke-width"]==null&&(Zt=g["stroke-width"]),o["stroke-width"]&&(_t.weight=Zt),Zt&&Zt<1&&(zt*=Zt)&&(_t.weight=1),_t.opacity=zt,o["stroke-linejoin"]&&(_t.joinstyle=o["stroke-linejoin"]||"miter"),_t.miterlimit=o["stroke-miterlimit"]||8,o["stroke-linecap"]&&(_t.endcap=o["stroke-linecap"]=="butt"?"flat":o["stroke-linecap"]=="square"?"square":"round"),"stroke-dasharray"in o){var Ce={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};_t.dashstyle=Ce[h](o["stroke-dasharray"])?Ce[o["stroke-dasharray"]]:L}Vt&&f.appendChild(_t)}if(y.type=="text"){y.paper.canvas.style.display=L;var Wt=y.paper.span,ue=g.font&&g.font.match(/\d+(?:\.\d*)?(?=px)/);v=Wt.style,g.font&&(v.font=g.font),g["font-family"]&&(v.fontFamily=g["font-family"]),g["font-weight"]&&(v.fontWeight=g["font-weight"]),g["font-style"]&&(v.fontStyle=g["font-style"]),ue=j(g["font-size"]||ue&&ue[0])||10,v.fontSize=100*ue+"px",y.textpath.string&&(Wt.innerHTML=H(y.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var fe=Wt.getBoundingClientRect();y.W=g.w=(fe.right-fe.left)/100,y.H=g.h=(fe.bottom-fe.top)/100,y.X=g.x,y.Y=g.y+y.H/2,("x"in o||"y"in o)&&(y.path.v=d.format("m{0},{1}l{2},{1}",vt(g.x*W),vt(g.y*W),vt(g.x*W)+1));for(var Ee=["x","y","text","font","font-family","font-weight","font-style","font-size"],pe=0,Te=Ee.length;pe<Te;pe++)if(Ee[pe]in o){y._.dirty=1;break}switch(g["text-anchor"]){case"start":y.textpath.style["v-text-align"]="left",y.bbx=y.W/2;break;case"end":y.textpath.style["v-text-align"]="right",y.bbx=-y.W/2;break;default:y.textpath.style["v-text-align"]="center",y.bbx=0}y.textpath.style["v-text-kern"]=!0}},kt=function(s,o,f){s.attrs=s.attrs||{},s.attrs;var g=Math.pow,v="linear",x=".5 .5";if(s.attrs.gradient=o,o=(o=H(o).replace(d._radial_gradient,function(at,ct,lt){return v="radial",ct&&lt&&(ct=j(ct),lt=j(lt),g(ct-.5,2)+g(lt-.5,2)>.25&&(lt=Et.sqrt(.25-g(ct-.5,2))*(2*(lt>.5)-1)+.5),x=ct+q+lt),L})).split(/\s*\-\s*/),v=="linear"){var S=o.shift();if(S=-j(S),isNaN(S))return null}var y=d._parseDots(o);if(!y)return null;if(s=s.shape||s.node,y.length){s.removeChild(f),f.on=!0,f.method="none",f.color=y[0].color,f.color2=y[y.length-1].color;for(var R=[],A=0,Y=y.length;A<Y;A++)y[A].offset&&R.push(y[A].offset+q+y[A].color);f.colors=R.length?R.join():"0% "+f.color,v=="radial"?(f.type="gradientTitle",f.focus="100%",f.focussize="0 0",f.focusposition=x,f.angle=0):(f.type="gradient",f.angle=(270-S)%360),s.appendChild(f)}return 1},st=function(s,o){this[0]=this.node=s,s.raphael=!0,this.id=d._oid++,s.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=o,this.matrix=d.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!o.bottom&&(o.bottom=this),this.prev=o.top,o.top&&(o.top.next=this),o.top=this,this.next=null},ht=d.el;st.prototype=ht,ht.constructor=st,ht.transform=function(s){if(s==null)return this._.transform;var o,f=this.paper._viewBoxShift,g=f?"s"+[f.scale,f.scale]+"-1-1t"+[f.dx,f.dy]:L;f&&(o=s=H(s).replace(/\.{3}|\u2026/g,this._.transform||L)),d._extractTransform(this,g+s);var v,x=this.matrix.clone(),S=this.skew,y=this.node,R=~H(this.attrs.fill).indexOf("-"),A=!H(this.attrs.fill).indexOf("url(");if(x.translate(1,1),A||R||this.type=="image")if(S.matrix="1 0 0 1",S.offset="0 0",v=x.split(),R&&v.noRotation||!v.isSimple){y.style.filter=x.toFilter();var Y=this.getBBox(),at=this.getBBox(1),ct=Y.x-at.x,lt=Y.y-at.y;y.coordorigin=ct*-W+q+lt*-W,Z(this,1,1,ct,lt,0)}else y.style.filter=L,Z(this,v.scalex,v.scaley,v.dx,v.dy,v.rotate);else y.style.filter=L,S.matrix=H(x),S.offset=x.offset();return o!==null&&(this._.transform=o,d._extractTransform(this,o)),this},ht.rotate=function(s,o,f){if(this.removed)return this;if(s!=null){if((s=H(s).split(Pt)).length-1&&(o=j(s[1]),f=j(s[2])),s=j(s[0]),f==null&&(o=f),o==null||f==null){var g=this.getBBox(1);o=g.x+g.width/2,f=g.y+g.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",s,o,f]])),this}},ht.translate=function(s,o){return this.removed?this:((s=H(s).split(Pt)).length-1&&(o=j(s[1])),s=j(s[0])||0,o=+o||0,this._.bbox&&(this._.bbox.x+=s,this._.bbox.y+=o),this.transform(this._.transform.concat([["t",s,o]])),this)},ht.scale=function(s,o,f,g){if(this.removed)return this;if((s=H(s).split(Pt)).length-1&&(o=j(s[1]),f=j(s[2]),g=j(s[3]),isNaN(f)&&(f=null),isNaN(g)&&(g=null)),s=j(s[0]),o==null&&(o=s),g==null&&(f=g),f==null||g==null)var v=this.getBBox(1);return f=f??v.x+v.width/2,g=g??v.y+v.height/2,this.transform(this._.transform.concat([["s",s,o,f,g]])),this._.dirtyT=1,this},ht.hide=function(){return!this.removed&&(this.node.style.display="none"),this},ht.show=function(){return!this.removed&&(this.node.style.display=L),this},ht.auxGetBBox=d.el.getBBox,ht.getBBox=function(){var s=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var o={},f=1/this.paper._viewBoxShift.scale;return o.x=s.x-this.paper._viewBoxShift.dx,o.x*=f,o.y=s.y-this.paper._viewBoxShift.dy,o.y*=f,o.width=s.width*f,o.height=s.height*f,o.x2=o.x+o.width,o.y2=o.y+o.height,o}return s},ht._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},ht.remove=function(){if(!this.removed&&this.node.parentNode){for(var s in this.paper.__set__&&this.paper.__set__.exclude(this),d.eve.unbind("raphael.*.*."+this.id),d._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[s]=typeof this[s]=="function"?d._removedFactory(s):null;this.removed=!0}},ht.attr=function(s,o){if(this.removed)return this;if(s==null){var f={};for(var g in this.attrs)this.attrs[h](g)&&(f[g]=this.attrs[g]);return f.gradient&&f.fill=="none"&&(f.fill=f.gradient)&&delete f.gradient,f.transform=this._.transform,f}if(o==null&&d.is(s,"string")){if(s=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;for(var v=s.split(Pt),x={},S=0,y=v.length;S<y;S++)(s=v[S])in this.attrs?x[s]=this.attrs[s]:d.is(this.paper.customAttributes[s],"function")?x[s]=this.paper.customAttributes[s].def:x[s]=d._availableAttrs[s];return y-1?x:x[v[0]]}if(this.attrs&&o==null&&d.is(s,"array")){for(x={},S=0,y=s.length;S<y;S++)x[s[S]]=this.attr(s[S]);return x}var R;for(var A in o!=null&&((R={})[s]=o),o==null&&d.is(s,"object")&&(R=s),R)Bt("raphael.attr."+A+"."+this.id,this,R[A]);if(R){for(A in this.paper.customAttributes)if(this.paper.customAttributes[h](A)&&R[h](A)&&d.is(this.paper.customAttributes[A],"function")){var Y=this.paper.customAttributes[A].apply(this,[].concat(R[A]));for(var at in this.attrs[A]=R[A],Y)Y[h](at)&&(R[at]=Y[at])}R.text&&this.type=="text"&&(this.textpath.string=R.text),bt(this,R)}return this},ht.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&d._tofront(this,this.paper),this},ht.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),d._toback(this,this.paper)),this)},ht.insertAfter=function(s){return this.removed?this:(s.constructor==d.st.constructor&&(s=s[s.length-1]),s.node.nextSibling?s.node.parentNode.insertBefore(this.node,s.node.nextSibling):s.node.parentNode.appendChild(this.node),d._insertafter(this,s,this.paper),this)},ht.insertBefore=function(s){return this.removed?this:(s.constructor==d.st.constructor&&(s=s[0]),s.node.parentNode.insertBefore(this.node,s.node),d._insertbefore(this,s,this.paper),this)},ht.blur=function(s){var o=this.node.runtimeStyle,f=o.filter;return f=f.replace(rt,L),+s!=0?(this.attrs.blur=s,o.filter=f+q+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+s||1.5)+")",o.margin=d.format("-{0}px 0 0 -{0}px",vt(+s||1.5))):(o.filter=f,o.margin=0,delete this.attrs.blur),this},d._engine.path=function(s,o){var f=U("shape");f.style.cssText=X,f.coordsize=W+q+W,f.coordorigin=o.coordorigin;var g=new st(f,o),v={fill:"none",stroke:"#000"};s&&(v.path=s),g.type="path",g.path=[],g.Path=L,bt(g,v),o.canvas&&o.canvas.appendChild(f);var x=U("skew");return x.on=!0,f.appendChild(x),g.skew=x,g.transform(L),g},d._engine.rect=function(s,o,f,g,v,x){var S=d._rectPath(o,f,g,v,x),y=s.path(S),R=y.attrs;return y.X=R.x=o,y.Y=R.y=f,y.W=R.width=g,y.H=R.height=v,R.r=x,R.path=S,y.type="rect",y},d._engine.ellipse=function(s,o,f,g,v){var x=s.path();return x.attrs,x.X=o-g,x.Y=f-v,x.W=2*g,x.H=2*v,x.type="ellipse",bt(x,{cx:o,cy:f,rx:g,ry:v}),x},d._engine.circle=function(s,o,f,g){var v=s.path();return v.attrs,v.X=o-g,v.Y=f-g,v.W=v.H=2*g,v.type="circle",bt(v,{cx:o,cy:f,r:g}),v},d._engine.image=function(s,o,f,g,v,x){var S=d._rectPath(f,g,v,x),y=s.path(S).attr({stroke:"none"}),R=y.attrs,A=y.node,Y=A.getElementsByTagName("fill")[0];return R.src=o,y.X=R.x=f,y.Y=R.y=g,y.W=R.width=v,y.H=R.height=x,R.path=S,y.type="image",Y.parentNode==A&&A.removeChild(Y),Y.rotate=!0,Y.src=o,Y.type="tile",y._.fillpos=[f,g],y._.fillsize=[v,x],A.appendChild(Y),Z(y,1,1,0,0,0),y},d._engine.text=function(s,o,f,g){var v=U("shape"),x=U("path"),S=U("textpath");o=o||0,f=f||0,g=g||"",x.v=d.format("m{0},{1}l{2},{1}",vt(o*W),vt(f*W),vt(o*W)+1),x.textpathok=!0,S.string=H(g),S.on=!0,v.style.cssText=X,v.coordsize=W+q+W,v.coordorigin="0 0";var y=new st(v,s),R={fill:"#000",stroke:"none",font:d._availableAttrs.font,text:g};y.shape=v,y.path=x,y.textpath=S,y.type="text",y.attrs.text=H(g),y.attrs.x=o,y.attrs.y=f,y.attrs.w=1,y.attrs.h=1,bt(y,R),v.appendChild(S),v.appendChild(x),s.canvas.appendChild(v);var A=U("skew");return A.on=!0,v.appendChild(A),y.skew=A,y.transform(L),y},d._engine.setSize=function(s,o){var f=this.canvas.style;return this.width=s,this.height=o,s==+s&&(s+="px"),o==+o&&(o+="px"),f.width=s,f.height=o,f.clip="rect(0 "+s+" "+o+" 0)",this._viewBox&&d._engine.setViewBox.apply(this,this._viewBox),this},d._engine.setViewBox=function(s,o,f,g,v){d.eve("raphael.setViewBox",this,this._viewBox,[s,o,f,g,v]);var x,S,y=this.getSize(),R=y.width,A=y.height;return v&&(f*(x=A/g)<R&&(s-=(R-f*x)/2/x),g*(S=R/f)<A&&(o-=(A-g*S)/2/S)),this._viewBox=[s,o,f,g,!!v],this._viewBoxShift={dx:-s,dy:-o,scale:y},this.forEach(function(Y){Y.transform("...")}),this},d._engine.initWin=function(s){var o=s.document;o.styleSheets.length<31?o.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):o.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!o.namespaces.rvml&&o.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),U=function(f){return o.createElement("<rvml:"+f+' class="rvml">')}}catch{U=function(g){return o.createElement("<"+g+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},d._engine.initWin(d._g.win),d._engine.create=function(){var s=d._getContainer.apply(0,arguments),o=s.container,f=s.height,g=s.width,v=s.x,x=s.y;if(!o)throw new Error("VML container not found.");var S=new d._Paper,y=S.canvas=d._g.doc.createElement("div"),R=y.style;return v=v||0,x=x||0,g=g||512,f=f||342,S.width=g,S.height=f,g==+g&&(g+="px"),f==+f&&(f+="px"),S.coordsize=216e5+q+216e5,S.coordorigin="0 0",S.span=d._g.doc.createElement("span"),S.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",y.appendChild(S.span),R.cssText=d.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",g,f),o==1?(d._g.doc.body.appendChild(y),R.left=v+"px",R.top=x+"px",R.position="absolute"):o.firstChild?o.insertBefore(y,o.firstChild):o.appendChild(y),S.renderfix=function(){},S},d.prototype.clear=function(){d.eve("raphael.clear",this),this.canvas.innerHTML=L,this.span=d._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},d.prototype.remove=function(){for(var s in d.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[s]=typeof this[s]=="function"?d._removedFactory(s):null;return!0};var Yt=d.st;for(var l in ht)ht[h](l)&&!Yt[h](l)&&(Yt[l]=function(s){return function(){var o=arguments;return this.forEach(function(f){f[s].apply(f,o)})}}(l))}}.apply(N,F))===void 0||(Q.exports=G)}])})});var Ti=Hi(Bi());function Xi(Q,N){if(Q&1&&(wt(0,"div",5)(1,"span"),St(2,"\u{1F355} Score: "),wt(3,"strong"),St(4),Ct()()()),Q&2){let E=At();Lt(4),ti(E.score)}}function Yi(Q,N){if(Q&1){let E=ce();wt(0,"button",6),Qt("click",function(){ne(E);let G=At();return re(G.togglePauseResume())}),he(1,"i",7),Ct()}}function Ui(Q,N){if(Q&1){let E=ce();wt(0,"div",8),Qt("click",function(){ne(E);let G=At();return re(G.togglePauseResume())}),wt(1,"h2"),St(2," Resume "),he(3,"i",9),Ct()()}}function $i(Q,N){Q&1&&(wt(0,"h4",16)(1,"span",17),St(2,"Emoji War"),Ct(),St(3,"! "),Ct())}function Qi(Q,N){if(Q&1){let E=ce();wt(0,"img",21),Qt("click",function(){let G=ne(E).$implicit,d=At(3);return re(d.selectAvatar(G))}),Ct()}if(Q&2){let E=N.$implicit,F=At(3);Mi("selected-avatar",E===F.config.player.image),Ot("src",E,je)}}function Zi(Q,N){if(Q&1&&(wt(0,"div",18)(1,"p"),St(2,"Select Your Avatar:"),Ct(),wt(3,"div",19),De(4,Qi,1,3,"img",20),Ct()()),Q&2){let E=At(2);Lt(4),Ot("ngForOf",E.avatarImages)}}function Wi(Q,N){if(Q&1){let E=ce();wt(0,"div",22)(1,"button",23),Qt("click",function(){ne(E);let G=At(2);return re(G.startGame())}),St(2,"Play"),Ct(),wt(3,"button",23),Qt("click",function(){ne(E);let G=At(2);return re(G.toggleInstructions())}),St(4,"Instructions"),Ct()()}}function Ji(Q,N){if(Q&1&&(wt(0,"div",24)(1,"div",25),he(2,"img",26),wt(3,"p")(4,"strong"),St(5,"Avoid Enemy Emojis"),Ct(),St(6," to stay alive!"),Ct()(),wt(7,"div",25),he(8,"img",27),wt(9,"p")(10,"strong"),St(11,"Collect Food Items"),Ct(),St(12," to increase your score!"),Ct()(),wt(13,"div",25),he(14,"img",28),wt(15,"p")(16,"strong"),St(17,"Use Your Mouse"),Ct(),St(18," to guide your character."),Ct()(),wt(19,"div",25),he(20,"img",29),wt(21,"p")(22,"strong"),St(23,"Double-Click"),Ct(),St(24," to pause the game."),Ct()()()),Q&2){let E=At(2);Lt(2),Ot("src",E.config.obstacle.image,je),Lt(6),Ot("src",E.config.food.images[0],je)}}function Ki(Q,N){if(Q&1){let E=ce();wt(0,"button",23),Qt("click",function(){ne(E);let G=At(2);return re(G.toggleInstructions())}),St(1,"Got it! \u{1F680}"),Ct()}}function tn(Q,N){if(Q&1&&(wt(0,"div",10),De(1,$i,4,0,"h4",11)(2,Zi,5,1,"div",12)(3,Wi,5,0,"div",13)(4,Ji,25,2,"div",14)(5,Ki,2,0,"button",15),Ct()),Q&2){let E=At();Lt(),Ot("ngIf",!E.showInstructions),Lt(),Ot("ngIf",!E.showInstructions),Lt(),Ot("ngIf",!E.showInstructions),Lt(),Ot("ngIf",E.showInstructions),Lt(),Ot("ngIf",E.showInstructions)}}function en(Q,N){if(Q&1){let E=ce();wt(0,"div",10)(1,"h4"),St(2,"Game Over"),Ct(),wt(3,"h1",30),St(4),Ct(),wt(5,"p"),St(6,"Would you like to play again?"),Ct(),wt(7,"button",23),Qt("click",function(){ne(E);let G=At();return re(G.resetGame())}),St(8,"Play Again"),Ct()()}if(Q&2){let E=At();Lt(4),ti(E.score)}}var He=class Q{constructor(N){this.elRef=N;this.avatarImages=["images/utils/actors/cool.svg","images/utils/actors/happy.svg","images/utils/actors/inlove.svg","images/utils/actors/kiss.svg","images/utils/actors/kiss2.svg","images/utils/actors/nerd.svg"];this.gameState="home";this.showInstructions=!1;this.score=0;this.foodItems=[];this.obstacles=[];this.playerPosition={x:1e3,y:1e3};this.velocity={x:0,y:0};this.viewportWidth=window.innerWidth;this.viewportHeight=window.innerHeight;this.config={player:{image:"images/utils/actors/cool.svg",size:50,speed:3},obstacle:{image:"images/utils/enemy.svg",size:70,speed:1.5},food:{images:["images/utils/foods/hamburger.svg","images/utils/foods/orange.svg","images/utils/foods/food-apples.svg","images/utils/foods/apples-food.svg","images/utils/foods/blueberry.svg","images/utils/foods/pine-apple.svg"],size:25},grid:{size:2e3,gridSpacing:50},sounds:{eat:"sounds/eat.mp3",gameOver:"sounds/wrong.mp3",spawn:"sounds/spawn.mp3"}};this.audioElements={}}toggleInstructions(){this.showInstructions=!this.showInstructions}ngOnInit(){this.loadSounds(),this.initializeCanvas(),this.drawGrid()}selectAvatar(N){this.config.player.image=N}initGame(){this.createPlayer(),this.playSound("spawn"),this.fillFoodStock(),this.spawnObstacles(),this.startMovement(),this.updateView(),this.score=0}startGame(){this.initGame(),this.gameState="playing"}loadSounds(){Object.keys(this.config.sounds).forEach(N=>{let E=this.config.sounds[N],F=new Audio(E);this.audioElements[N]=F})}togglePauseResume(){this.gameState=="playing"?(this.gameState="paused",this.pauseGame()):(this.gameState="playing",this.resumeGame())}pauseGame(){clearInterval(this.movementInterval)}resumeGame(){this.startMovement()}playSound(N){let E=this.audioElements[N];E&&E.play()}initializeCanvas(){let N=this.elRef.nativeElement.querySelector(".game-container");N.style.width=`${this.viewportWidth}px`,N.style.height=`${this.viewportHeight}px`,this.paper=(0,Ti.default)(N,this.config.grid.size,this.config.grid.size)}drawGrid(){let{size:N,gridSpacing:E}=this.config.grid,F="#e0e0e0";for(let G=0;G<=N;G+=E)this.paper.path(`M0,${G}L${N},${G}`).attr({stroke:F,"stroke-width":1});for(let G=0;G<=N;G+=E)this.paper.path(`M${G},0L${G},${N}`).attr({stroke:F,"stroke-width":1})}createPlayer(){let{x:N,y:E}=this.playerPosition,{image:F,size:G}=this.config.player;this.player=this.paper.image(F,N-G/2,E-G/2,G,G)}fillFoodStock(){for(;this.foodItems.length<50;)this.spawnFood()}spawnFood(){let N,E,F,G=this.config.food.size,d=this.config.food.images,h=d[Math.floor(Math.random()*d.length)];do N=Math.random()*this.config.grid.size,E=Math.random()*this.config.grid.size,F=this.checkSafeSpawn(N,E,G);while(!F);let H=this.paper.image(h,N-G,E-G,G*2,G*2);this.foodItems.push({element:H,x:N,y:E,radius:G})}spawnObstacles(){let{size:N,image:E,speed:F}=this.config.obstacle;for(let G=0;G<10;G++){let d,h,H;do d=Math.random()*this.config.grid.size,h=Math.random()*this.config.grid.size,H=this.checkSafeSpawn(d,h,N/2);while(!H);let j=this.paper.image(E,d-N/2,h-N/2,N,N),Et={x:Math.random()*F*2-F,y:Math.random()*F*2-F};this.obstacles.push({element:j,x:d,y:h,velocity:Et})}}checkSafeSpawn(N,E,F){let{x:G,y:d}=this.playerPosition,h=this.config.player.size/2;if(Math.sqrt((N-G)**2+(E-d)**2)<F+h+10)return!1;for(let j of this.obstacles)if(Math.sqrt((N-j.x)**2+(E-j.y)**2)<F+this.config.obstacle.size/2+10)return!1;for(let j of this.foodItems)if(Math.sqrt((N-j.x)**2+(E-j.y)**2)<F+j.radius+10)return!1;return!0}movePlayer(){let{size:N}=this.config.player,E=this.config.grid.size;this.playerPosition.x=Math.min(Math.max(this.playerPosition.x+this.velocity.x,N/2),E-N/2),this.playerPosition.y=Math.min(Math.max(this.playerPosition.y+this.velocity.y,N/2),E-N/2),this.player.attr({x:this.playerPosition.x-N/2,y:this.playerPosition.y-N/2}),this.checkCollisions(),this.updateView()}checkCollisions(){let N=this.foodItems.length;this.foodItems=this.foodItems.filter(({element:E,x:F,y:G,radius:d})=>{let h=F-this.playerPosition.x,H=G-this.playerPosition.y;return Math.sqrt(h*h+H*H)<this.config.player.size/2+d?(this.playEatAnimation(F,G,d),E.remove(),this.score++,this.playSound("eat"),!1):!0}),this.foodItems.length!=N&&this.fillFoodStock(),this.obstacles.forEach(({element:E,x:F,y:G})=>{let d=F-this.playerPosition.x,h=G-this.playerPosition.y;Math.sqrt(d*d+h*h)<this.config.player.size/2+this.config.obstacle.size/2&&this.handleObstacleCollision()})}handleObstacleCollision(){this.gameState="gameOver",this.playSound("gameOver")}cleanUpElements(){this.player&&this.player.remove(),this.foodItems.forEach(N=>N.element.remove()),this.foodItems=[],this.obstacles.forEach(N=>N.element.remove()),this.obstacles=[]}resetGame(){this.stopMovement(),this.cleanUpElements(),this.initGame(),this.gameState="playing"}stopMovement(){clearInterval(this.movementInterval)}playEatAnimation(N,E,F){for(let G=0;G<12;G++){let d=N+Math.random()*F*2-F,h=E+Math.random()*F*2-F,H=`#${Math.floor(Math.random()*16777215).toString(16).padStart(6,"0")}`,j=this.paper.circle(d,h,2).attr({fill:H,stroke:H,opacity:1});j.animate({opacity:0,r:0},500,()=>j.remove())}}updateView(){let N=this.elRef.nativeElement.querySelector(".game-container");N.scrollLeft=this.playerPosition.x-this.viewportWidth/2,N.scrollTop=this.playerPosition.y-this.viewportHeight/2}startMovement(){this.movementInterval=window.setInterval(()=>{this.gameState=="playing"&&(this.movePlayer(),this.moveObstacles())},16)}moveObstacles(){let{size:N}=this.config.obstacle;this.obstacles.forEach(E=>{E.x+=E.velocity.x,E.y+=E.velocity.y,(E.x<0||E.x>this.config.grid.size)&&(E.velocity.x*=-1),(E.y<0||E.y>this.config.grid.size)&&(E.velocity.y*=-1),E.element.attr({x:E.x-N/2,y:E.y-N/2})})}handleMouseMove(N){let E=this.elRef.nativeElement.querySelector(".game-container"),F=E.getBoundingClientRect(),G=N.clientX-F.left+E.scrollLeft,d=N.clientY-F.top+E.scrollTop,h=G-this.playerPosition.x,H=d-this.playerPosition.y,j=Math.sqrt(h*h+H*H),{speed:Et}=this.config.player;this.velocity.x=(h/j||0)*Et,this.velocity.y=(H/j||0)*Et}handleDoubleClick(N){this.gameState=="playing"&&this.togglePauseResume()}static{this.\u0275fac=function(E){return new(E||Q)(Ei(Ci))}}static{this.\u0275cmp=ki({type:Q,selectors:[["app-game-engine"]],hostBindings:function(E,F){E&1&&Qt("mousemove",function(d){return F.handleMouseMove(d)})("dblclick",function(d){return F.handleDoubleClick(d)})},decls:6,vars:5,consts:[[1,"game-container"],["class","score-panel",4,"ngIf"],["class","pause-button","aria-label","Pause or Resume Game",3,"click",4,"ngIf"],["class","card paused",3,"click",4,"ngIf"],["class","card",4,"ngIf"],[1,"score-panel"],["aria-label","Pause or Resume Game",1,"pause-button",3,"click"],[1,"fas","fa-pause"],[1,"card","paused",3,"click"],[1,"fas","fa-play"],[1,"card"],["class","game-title",4,"ngIf"],["class","avatar-section",4,"ngIf"],["class","buttons",4,"ngIf"],["class","instructions-panel",4,"ngIf"],["class","action-button",3,"click",4,"ngIf"],[1,"game-title"],[1,"highlighted-title"],[1,"avatar-section"],[1,"avatar-list"],["class","avatar-option",3,"src","selected-avatar","click",4,"ngFor","ngForOf"],[1,"avatar-option",3,"click","src"],[1,"buttons"],[1,"action-button",3,"click"],[1,"instructions-panel"],[1,"instruction-item"],["alt","Obstacle Emoji",1,"instruction-icon",3,"src"],["alt","Food Item",1,"instruction-icon",3,"src"],["src","images/cursors/default2.svg","alt","Mouse Cursor",1,"instruction-icon"],["src","images/cursors/pause.svg","alt","Mouse Cursor",1,"instruction-icon"],[1,"score"]],template:function(E,F){E&1&&(wt(0,"div",0),De(1,Xi,5,1,"div",1)(2,Yi,2,0,"button",2)(3,Ui,4,0,"div",3)(4,tn,6,5,"div",4)(5,en,9,1,"div",4),Ct()),E&2&&(Lt(),Ot("ngIf",F.gameState==="playing"||F.gameState==="paused"),Lt(),Ot("ngIf",F.gameState==="playing"),Lt(),Ot("ngIf",F.gameState==="paused"),Lt(),Ot("ngIf",F.gameState==="home"),Lt(),Ot("ngIf",F.gameState==="gameOver"))},dependencies:[Si,Pi],styles:["[_nghost-%COMP%]{display:block;position:relative;overflow:hidden}.game-container[_ngcontent-%COMP%]{position:relative;width:100vw;height:100vh;overflow:hidden;cursor:url(/images/cursors/default.svg),auto}.score-panel[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px;background:#000000b3;color:#fff;padding:5px 10px;border-radius:5px;font-size:16px;z-index:1000}.card[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(45deg,#28f695,#0688a6);color:#fff;width:350px;height:420px;padding:20px;border-radius:15px;text-align:center;display:flex;flex-direction:column;justify-content:space-between}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;display:flex;justify-content:space-evenly;align-items:center;gap:20px}.card[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:10rem;margin-top:4rem}.paused[_ngcontent-%COMP%]{height:90px}.pause-button[_ngcontent-%COMP%]{position:fixed;bottom:35px;right:35px;display:flex;align-items:center;justify-content:center;width:60px;height:60px;background:linear-gradient(45deg,#28f695,#0688a6);border:none;border-radius:50%;cursor:pointer;box-shadow:0 4px 8px #0000004d;transition:all .3s ease-in-out}.pause-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:#fff}.game-title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:15px}.highlighted-title[_ngcontent-%COMP%]{font-weight:700;color:#fff}.avatar-section[_ngcontent-%COMP%]{margin:20px 0}.avatar-list[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;flex-wrap:wrap}.avatar-option[_ngcontent-%COMP%]{width:60px;height:60px;border:8px solid transparent;border-radius:50%;cursor:pointer;transition:transform .3s,border-color .3s}.avatar-option[_ngcontent-%COMP%]:hover{transform:scale(1.1);border-color:#fff;cursor:url(/images/cursors/pointer.svg),auto}.selected-avatar[_ngcontent-%COMP%]{border-color:#fff}.buttons[_ngcontent-%COMP%]{display:flex;gap:10px}.action-button[_ngcontent-%COMP%]{width:100%;padding:12px 20px;font-size:14px;font-weight:700;color:#000;border:2px solid #B2DFDB;border-radius:8px;cursor:pointer;background:#fff;transition:all .3s ease-in-out}.action-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.instruction-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px;gap:10px}.instruction-icon[_ngcontent-%COMP%]{width:45px;height:45px;padding:5px;border-radius:10px;background:#fff;box-shadow:0 4px 8px #0003}.instruction-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fc8b10;background:#fff;width:50px;height:50px;border-radius:10px;display:flex;align-items:center;justify-content:center}.instruction-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;text-align:left}button[_ngcontent-%COMP%]:hover{cursor:url(/images/cursors/pointer.svg),auto}"]})}};var nn=[{path:"",component:He}],Xe=class Q{static{this.\u0275fac=function(E){return new(E||Q)}}static{this.\u0275mod=Ve({type:Q})}static{this.\u0275inj=Ae({imports:[ei.forChild(nn),ei]})}};var Ri=class Q{static{this.\u0275fac=function(E){return new(E||Q)}}static{this.\u0275mod=Ve({type:Q})}static{this.\u0275inj=Ae({imports:[Ii,Xe]})}};export{Ri as GameEngineModule};
