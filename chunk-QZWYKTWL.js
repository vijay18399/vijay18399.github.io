import{e as ge,f as oe,j as Gt,k as Bt,l as At,m as Nt,n as Vt,q as Rt,r as zt,s as jt,t as $t,u as tt,v as qt}from"./chunk-LLOCBAKP.js";import{a as St,b as kt}from"./chunk-RYSJAOP7.js";import{a as yt}from"./chunk-ORVO6GEW.js";import{C as Wt,D as Tt,E as Dt,a as De,c as Ge,d as xe,f as Be,g as Ae,h as Ne,i as Mt,j as le,k as Ve,m as Re,n as ze,o as It,p as Ft,q as Pt,r as Ot,y as Et,z as Lt}from"./chunk-FRFXNKVK.js";import{g as fe,ga as Te,j as ve,k as _e,m as be}from"./chunk-SF2VDYYP.js";import{g as wt,i as We,l as et}from"./chunk-UCIQEQ36.js";import"./chunk-EJJBCPAK.js";import{Cb as M,E as Oe,Ea as Ee,Fa as R,Fb as T,Ga as z,Gb as Xe,Ha as B,Hb as c,Jb as ht,La as dt,Oa as q,Pa as mt,Ra as ut,Rb as p,Sb as d,Tb as W,Ub as ke,Vb as Me,Xb as H,Xc as xt,_b as A,ac as _,dd as ne,ed as ee,fc as gt,fd as he,gc as ft,hc as vt,hd as Ct,id as Le,la as de,lb as s,lc as w,mb as G,mc as ie,nc as ue,oc as _t,qa as pt,uc as bt,w as ct,wa as $,wc as Ie,xa as me,xc as Fe}from"./chunk-STDL2BFB.js";var Ce={levelBackgrounds:{A1:"linear-gradient(45deg, #E53935, #8E24AA)",A2:"linear-gradient(60deg, #FF7043, #009688)",B1:"linear-gradient(120deg, #43A047, #2196F3)",B2:"linear-gradient(150deg, #8E24AA, #FFEB3B)",C1:"linear-gradient(to right, #3ca55c, #b5ac49)",C2:"linear-gradient(90deg, #009688, #795548)"},questionCountRange:{min:4,max:10},timeRange:{min:1,max:10}};function Ci(o,i){if(o&1){let e=H();p(0,"mat-card",14),A("click",function(){let l=R(e).$implicit,S=_();return z(S.selectLevel(l))}),w(1),d()}if(o&2){let e=i.$implicit,r=_();c("ngStyle",r.getStyle(e)),s(),ue(" ",e," ")}}var je=class o{constructor(i){this.dialogRef=i;this.preferencesSelected=new q;this.cefrLevels=["A1","A2","B1","B2","C1"];this.questionCountRange=Ce.questionCountRange;this.timeRange=Ce.timeRange;this.preferenceForm=new Mt({questionCount:new le(this.questionCountRange.min),timeLimit:new le(this.timeRange.min),selectedLevels:new le(["A1"])})}getStyle(i){let e=this.preferenceForm.get("selectedLevels")?.value?.includes(i);return{color:e?"white":"black",background:e?Ce.levelBackgrounds[i]:"white",border:"1px solid #ccc"}}selectLevel(i){this.preferenceForm.get("selectedLevels")?.setValue([i])}onSubmit(){let i=this.preferenceForm.value,e={questionCount:i.questionCount??this.questionCountRange.min,timeLimit:i.timeLimit??this.timeRange.min,selectedLevels:i.selectedLevels??this.cefrLevels};this.preferencesSelected.emit(e),this.closeDialog()}closeDialog(){this.dialogRef.close()}static{this.\u0275fac=function(e){return new(e||o)(G(Et))}}static{this.\u0275cmp=$({type:o,selectors:[["preference-form-dialog"]],outputs:{preferencesSelected:"preferencesSelected"},decls:25,vars:10,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"dialog-container"],["fxLayout","column","fxLayoutGap","24px",1,"form-container",3,"ngSubmit","formGroup"],["fxLayout","column","fxLayoutGap","8px",1,"input-field"],["for","question-slider",1,"slider-label"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","15px",1,"slider-container"],["id","question-slider",3,"min","max","step"],["formControlName","questionCount","matSliderThumb",""],["for","time-slider",1,"slider-label"],["id","time-slider",3,"min","max","step"],["formControlName","timeLimit","matSliderThumb",""],[1,"slider-label"],["fxLayout","row","fxLayoutGap","6px",1,"card-container"],["fxLayout","row","fxLayoutGap","6px","fxLayoutAlign","center center","class","category-box",3,"ngStyle","click",4,"ngFor","ngForOf"],["type","submit","mat-flat-button","","color","primary"],["fxLayout","row","fxLayoutGap","6px","fxLayoutAlign","center center",1,"category-box",3,"click","ngStyle"]],template:function(e,r){if(e&1&&(p(0,"div",0)(1,"form",1),A("ngSubmit",function(){return r.onSubmit()}),p(2,"div",2)(3,"label",3),w(4," How many words should we test? \u{1F4DD} "),d(),p(5,"div",4)(6,"mat-slider",5),W(7,"input",6),d(),p(8,"span"),w(9),d()()(),p(10,"div",2)(11,"label",7),w(12," How much time do you have (in min)? \u23F3 "),d(),p(13,"div",4)(14,"mat-slider",8),W(15,"input",9),d(),p(16,"span"),w(17),d()()(),p(18,"div",2)(19,"label",10),w(20," Choose your level \u{1F3AF} "),d(),p(21,"div",11),M(22,Ci,2,2,"mat-card",12),d()(),p(23,"button",13),w(24,"Start Playing \u{1F680}"),d()()()),e&2){let l,S;s(),c("formGroup",r.preferenceForm),s(5),c("min",r.questionCountRange.min)("max",r.questionCountRange.max)("step",1),s(3),ie((l=r.preferenceForm.get("questionCount"))==null?null:l.value),s(5),c("min",r.timeRange.min)("max",r.timeRange.max)("step",1),s(3),ie((S=r.preferenceForm.get("timeLimit"))==null?null:S.value),s(5),c("ngForOf",r.cefrLevels)}},dependencies:[Wt,Tt,xe,Te,ve,_e,be,fe,ne,he,Ve,Be,Ae,Ne,Re,ze],styles:[".dialog-container[_ngcontent-%COMP%]{padding:1.5rem 2rem;background:#fff}.form-container[_ngcontent-%COMP%]{width:90%}.slider-label[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.slider-container[_ngcontent-%COMP%]{padding:12px 0}mat-slider[_ngcontent-%COMP%]{width:100%;margin-right:20px!important}.category-box[_ngcontent-%COMP%]{width:60px;height:30px;font-weight:700;cursor:pointer;transition:transform .2s;border-radius:5px;text-align:center;line-height:30px;color:#000}.category-box[_ngcontent-%COMP%]:hover{transform:scale(1.1)}button[_ngcontent-%COMP%]{align-self:center;padding:10px 20px}"]})}};function wi(o,i){if(o&1&&(B(),p(0,"linearGradient"),W(1,"stop",5)(2,"stop",6),d()),o&2){let e=_(2);T("id",e.svg.outerLinearGradient.id),s(),T("stop-color",e.svg.outerLinearGradient.colorStop1)("stop-opacity",1),s(),T("stop-color",e.svg.outerLinearGradient.colorStop2)("stop-opacity",1)}}function yi(o,i){if(o&1&&(B(),p(0,"radialGradient"),W(1,"stop",5)(2,"stop",6),d()),o&2){let e=_(2);T("id",e.svg.radialGradient.id),s(),T("stop-color",e.svg.radialGradient.colorStop1)("stop-opacity",1),s(),T("stop-color",e.svg.radialGradient.colorStop2)("stop-opacity",1)}}function Si(o,i){if(o&1&&(B(),W(0,"circle")),o&2){let e=_(3);T("cx",e.svg.backgroundCircle.cx)("cy",e.svg.backgroundCircle.cy)("r",e.svg.backgroundCircle.r)("fill",e.svg.backgroundCircle.fill)("fill-opacity",e.svg.backgroundCircle.fillOpacity)("stroke",e.svg.backgroundCircle.stroke)("stroke-width",e.svg.backgroundCircle.strokeWidth)}}function ki(o,i){if(o&1&&(B(),W(0,"circle")),o&2){let e=_(3);Xe("fill","url(",e.window.location.href,"#",e.svg.radialGradient.id,")"),T("cx",e.svg.backgroundCircle.cx)("cy",e.svg.backgroundCircle.cy)("r",e.svg.backgroundCircle.r)("fill-opacity",e.svg.backgroundCircle.fillOpacity)("stroke",e.svg.backgroundCircle.stroke)("stroke-width",e.svg.backgroundCircle.strokeWidth)}}function Mi(o,i){if(o&1&&(B(),ke(0),M(1,Si,1,7,"circle",2)(2,ki,1,9,"circle",2),Me()),o&2){let e=_(2);s(),c("ngIf",!e.options.backgroundGradient),s(),c("ngIf",e.options.backgroundGradient)}}function Ii(o,i){if(o&1&&(B(),W(0,"circle")),o&2){let e=_(2);T("cx",e.svg.circle.cx)("cy",e.svg.circle.cy)("r",e.svg.circle.r)("fill",e.svg.circle.fill)("stroke",e.svg.circle.stroke)("stroke-width",e.svg.circle.strokeWidth)}}function Fi(o,i){if(o&1&&(B(),W(0,"path")),o&2){let e=_(3);T("d",e.svg.path.d)("stroke",e.svg.path.stroke)("stroke-width",e.svg.path.strokeWidth)("stroke-linecap",e.svg.path.strokeLinecap)("fill",e.svg.path.fill)}}function Pi(o,i){if(o&1&&(B(),W(0,"path")),o&2){let e=_(3);Xe("stroke","url(",e.window.location.href,"#",e.svg.outerLinearGradient.id,")"),T("d",e.svg.path.d)("stroke-width",e.svg.path.strokeWidth)("stroke-linecap",e.svg.path.strokeLinecap)("fill",e.svg.path.fill)}}function Oi(o,i){if(o&1&&(B(),ke(0),M(1,Fi,1,5,"path",2)(2,Pi,1,7,"path",2),Me()),o&2){let e=_(2);s(),c("ngIf",!e.options.outerStrokeGradient),s(),c("ngIf",e.options.outerStrokeGradient)}}function Ei(o,i){if(o&1&&(B(),p(0,"tspan"),w(1),d()),o&2){let e=i.$implicit,r=_(4);T("x",r.svg.title.x)("y",r.svg.title.y)("dy",e.dy)("font-size",r.svg.title.fontSize)("font-weight",r.svg.title.fontWeight)("fill",r.svg.title.color),s(),ie(e.span)}}function Li(o,i){if(o&1&&(B(),ke(0),M(1,Ei,2,7,"tspan",8),Me()),o&2){let e=_(3);s(),c("ngForOf",e.svg.title.tspans)}}function Wi(o,i){if(o&1&&(B(),p(0,"tspan"),w(1),d()),o&2){let e=_(3);T("font-size",e.svg.units.fontSize)("font-weight",e.svg.units.fontWeight)("fill",e.svg.units.color),s(),ie(e.svg.units.text)}}function Ti(o,i){if(o&1&&(B(),p(0,"tspan"),w(1),d()),o&2){let e=i.$implicit,r=_(4);T("x",r.svg.subtitle.x)("y",r.svg.subtitle.y)("dy",e.dy)("font-size",r.svg.subtitle.fontSize)("font-weight",r.svg.subtitle.fontWeight)("fill",r.svg.subtitle.color),s(),ie(e.span)}}function Di(o,i){if(o&1&&(B(),ke(0),M(1,Ti,2,7,"tspan",8),Me()),o&2){let e=_(3);s(),c("ngForOf",e.svg.subtitle.tspans)}}function Gi(o,i){if(o&1&&(B(),p(0,"text",7),M(1,Li,2,1,"ng-container",2)(2,Wi,2,4,"tspan",2)(3,Di,2,1,"ng-container",2),d()),o&2){let e=_(2);T("x",e.svg.circle.cx)("y",e.svg.circle.cy)("text-anchor",e.svg.title.textAnchor),s(),c("ngIf",e.options.showTitle),s(),c("ngIf",e.options.showUnits),s(),c("ngIf",e.options.showSubtitle)}}function Bi(o,i){if(o&1&&(B(),W(0,"image",9)),o&2){let e=_(2);T("height",e.svg.image.height)("width",e.svg.image.width)("href",e.svg.image.src,null,"xlink")("x",e.svg.image.x)("y",e.svg.image.y)}}function Ai(o,i){if(o&1){let e=H();B(),p(0,"svg",1),A("click",function(l){R(e);let S=_();return z(S.emitClickEvent(l))}),p(1,"defs"),M(2,wi,3,5,"linearGradient",2)(3,yi,3,5,"radialGradient",2),d(),M(4,Mi,3,2,"ng-container",2)(5,Ii,1,6,"circle",2)(6,Oi,3,2,"ng-container",2)(7,Gi,4,6,"text",3)(8,Bi,1,5,"image",4),d()}if(o&2){let e=_();T("viewBox",e.svg.viewBox)("height",e.svg.height)("width",e.svg.width)("class",e.options.class),s(2),c("ngIf",e.options.outerStrokeGradient),s(),c("ngIf",e.options.backgroundGradient),s(),c("ngIf",e.options.showBackground),s(),c("ngIf",e.options.showInnerStroke),s(),c("ngIf",+e.options.percent!=0||e.options.showZeroOuterStroke),s(),c("ngIf",!e.options.showImage&&(e.options.showTitle||e.options.showUnits||e.options.showSubtitle)),s(),c("ngIf",e.options.showImage)}}var ye=class{constructor(){this.class="",this.backgroundGradient=!1,this.backgroundColor="transparent",this.backgroundGradientStopColor="transparent",this.backgroundOpacity=1,this.backgroundStroke="transparent",this.backgroundStrokeWidth=0,this.backgroundPadding=5,this.percent=0,this.radius=90,this.space=4,this.toFixed=0,this.maxPercent=1e3,this.renderOnClick=!0,this.units="%",this.unitsFontSize="10",this.unitsFontWeight="normal",this.unitsColor="#444444",this.outerStrokeGradient=!1,this.outerStrokeWidth=8,this.outerStrokeColor="#78C000",this.outerStrokeGradientStopColor="transparent",this.outerStrokeLinecap="round",this.innerStrokeColor="#C7E596",this.innerStrokeWidth=4,this.titleFormat=void 0,this.title="auto",this.titleColor="#444444",this.titleFontSize="20",this.titleFontWeight="normal",this.subtitleFormat=void 0,this.subtitle="progress",this.subtitleColor="#A9A9A9",this.subtitleFontSize="10",this.subtitleFontWeight="normal",this.imageSrc=void 0,this.imageHeight=0,this.imageWidth=0,this.animation=!0,this.animateTitle=!0,this.animateSubtitle=!1,this.animationDuration=500,this.showTitle=!0,this.showSubtitle=!0,this.showUnits=!0,this.showImage=!1,this.showBackground=!0,this.showInnerStroke=!0,this.clockwise=!0,this.responsive=!1,this.startFromZero=!0,this.showZeroOuterStroke=!0,this.lazy=!1}},Qt=(()=>{class o{constructor(e,r,l,S){this.ngZone=r,this.elRef=l,this.onClick=new q,this.svgElement=null,this.isInViewport=!1,this.onViewportChanged=new q,this._viewportChangedSubscriber=null,this.options=new ye,this.defaultOptions=new ye,this._lastPercent=0,this._gradientUUID=null,this.render=()=>{this.applyOptions(),this.options.lazy?(this.svgElement===null&&this.draw(this._lastPercent),this.isInViewport&&(this.options.animation&&this.options.animationDuration>0?this.animate(this._lastPercent,this.options.percent):this.draw(this.options.percent),this._lastPercent=this.options.percent)):(this.options.animation&&this.options.animationDuration>0?this.animate(this._lastPercent,this.options.percent):this.draw(this.options.percent),this._lastPercent=this.options.percent)},this.polarToCartesian=(u,I,F,g)=>{let L=g*Math.PI/180,D=u+Math.sin(L)*F,N=I-Math.cos(L)*F;return{x:D,y:N}},this.draw=u=>{u=u===void 0?this.options.percent:Math.abs(u);let I=u>100?100:u,F=this.options.radius*2+this.options.outerStrokeWidth*2;this.options.showBackground&&(F+=this.options.backgroundStrokeWidth*2+this.max(0,this.options.backgroundPadding*2));let g={x:F/2,y:F/2},L={x:g.x,y:g.y-this.options.radius},D=this.polarToCartesian(g.x,g.y,this.options.radius,360*(this.options.clockwise?I:100-I)/100);I===100&&(D.x=D.x+(this.options.clockwise?-.01:.01));let N,se;I>50?[N,se]=this.options.clockwise?[1,1]:[1,0]:[N,se]=this.options.clockwise?[0,1]:[0,0];let Z=this.options.animateTitle?u:this.options.percent,Ye=Z>this.options.maxPercent?`${this.options.maxPercent.toFixed(this.options.toFixed)}+`:Z.toFixed(this.options.toFixed),P=this.options.animateSubtitle?u:this.options.percent,Q={x:g.x,y:g.y,textAnchor:"middle",color:this.options.titleColor,fontSize:this.options.titleFontSize,fontWeight:this.options.titleFontWeight,texts:[],tspans:[]};if(this.options.titleFormat!==void 0&&this.options.titleFormat.constructor.name==="Function"){let U=this.options.titleFormat(Z);U instanceof Array?Q.texts=[...U]:Q.texts.push(U.toString())}else this.options.title==="auto"?Q.texts.push(Ye):this.options.title instanceof Array?Q.texts=[...this.options.title]:Q.texts.push(this.options.title.toString());let J={x:g.x,y:g.y,textAnchor:"middle",color:this.options.subtitleColor,fontSize:this.options.subtitleFontSize,fontWeight:this.options.subtitleFontWeight,texts:[],tspans:[]};if(this.options.subtitleFormat!==void 0&&this.options.subtitleFormat.constructor.name==="Function"){let U=this.options.subtitleFormat(P);U instanceof Array?J.texts=[...U]:J.texts.push(U.toString())}else this.options.subtitle instanceof Array?J.texts=[...this.options.subtitle]:J.texts.push(this.options.subtitle.toString());let Se={text:`${this.options.units}`,fontSize:this.options.unitsFontSize,fontWeight:this.options.unitsFontWeight,color:this.options.unitsColor},ce=0,pe=1;if(this.options.showTitle&&(ce+=Q.texts.length),this.options.showSubtitle&&(ce+=J.texts.length),this.options.showTitle)for(let U of Q.texts)Q.tspans.push({span:U,dy:this.getRelativeY(pe,ce)}),pe++;if(this.options.showSubtitle)for(let U of J.texts)J.tspans.push({span:U,dy:this.getRelativeY(pe,ce)}),pe++;this._gradientUUID===null&&(this._gradientUUID=this.uuid()),this.svg={viewBox:`0 0 ${F} ${F}`,width:this.options.responsive?"100%":F,height:this.options.responsive?"100%":F,backgroundCircle:{cx:g.x,cy:g.y,r:this.options.radius+this.options.outerStrokeWidth/2+this.options.backgroundPadding,fill:this.options.backgroundColor,fillOpacity:this.options.backgroundOpacity,stroke:this.options.backgroundStroke,strokeWidth:this.options.backgroundStrokeWidth},path:{d:`M ${L.x} ${L.y}
        A ${this.options.radius} ${this.options.radius} 0 ${N} ${se} ${D.x} ${D.y}`,stroke:this.options.outerStrokeColor,strokeWidth:this.options.outerStrokeWidth,strokeLinecap:this.options.outerStrokeLinecap,fill:"none"},circle:{cx:g.x,cy:g.y,r:this.options.radius-this.options.space-this.options.outerStrokeWidth/2-this.options.innerStrokeWidth/2,fill:"none",stroke:this.options.innerStrokeColor,strokeWidth:this.options.innerStrokeWidth},title:Q,units:Se,subtitle:J,image:{x:g.x-this.options.imageWidth/2,y:g.y-this.options.imageHeight/2,src:this.options.imageSrc,width:this.options.imageWidth,height:this.options.imageHeight},outerLinearGradient:{id:"outer-linear-"+this._gradientUUID,colorStop1:this.options.outerStrokeColor,colorStop2:this.options.outerStrokeGradientStopColor==="transparent"?"#FFF":this.options.outerStrokeGradientStopColor},radialGradient:{id:"radial-"+this._gradientUUID,colorStop1:this.options.backgroundColor,colorStop2:this.options.backgroundGradientStopColor==="transparent"?"#FFF":this.options.backgroundGradientStopColor}}},this.getAnimationParameters=(u,I)=>{let g,L,D,N=this.options.startFromZero||u<0?0:u,se=I<0?0:this.min(I,this.options.maxPercent),Z=Math.abs(Math.round(se-N));return Z>=100?(g=100,!this.options.animateTitle&&!this.options.animateSubtitle?L=1:L=Math.round(Z/g)):(g=Z,L=1),D=Math.round(this.options.animationDuration/g),D<10&&(D=10,g=this.options.animationDuration/D,!this.options.animateTitle&&!this.options.animateSubtitle&&Z>100?L=Math.round(100/g):L=Math.round(Z/g)),L<1&&(L=1),{times:g,step:L,interval:D}},this.animate=(u,I)=>{this._timerSubscription&&!this._timerSubscription.closed&&this._timerSubscription.unsubscribe();let F=this.options.startFromZero?0:u,g=I,{step:L,interval:D}=this.getAnimationParameters(F,g),N=F;F<g?this._timerSubscription=Oe(0,D).subscribe(()=>{N+=L,N<=g?!this.options.animateTitle&&!this.options.animateSubtitle&&N>=100?(this.draw(g),this._timerSubscription.unsubscribe()):this.draw(N):(this.draw(g),this._timerSubscription.unsubscribe())}):this._timerSubscription=Oe(0,D).subscribe(()=>{N-=L,N>=g?!this.options.animateTitle&&!this.options.animateSubtitle&&g>=100?(this.draw(g),this._timerSubscription.unsubscribe()):this.draw(N):(this.draw(g),this._timerSubscription.unsubscribe())})},this.applyOptions=()=>{for(let u of Object.keys(this.options))this.hasOwnProperty(u)&&this[u]!==void 0?this.options[u]=this[u]:this.templateOptions&&this.templateOptions[u]!==void 0&&(this.options[u]=this.templateOptions[u]);this.options.radius=Math.abs(+this.options.radius),this.options.space=+this.options.space,this.options.percent=+this.options.percent>0?+this.options.percent:0,this.options.maxPercent=Math.abs(+this.options.maxPercent),this.options.animationDuration=Math.abs(this.options.animationDuration),this.options.outerStrokeWidth=Math.abs(+this.options.outerStrokeWidth),this.options.innerStrokeWidth=Math.abs(+this.options.innerStrokeWidth),this.options.backgroundPadding=+this.options.backgroundPadding},this.getRelativeY=(u,I)=>(-.18+1*(u-I/2)).toFixed(2)+"em",this.min=(u,I)=>u<I?u:I,this.max=(u,I)=>u>I?u:I,this.uuid=()=>{var u=new Date().getTime(),I="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(F){var g=(u+Math.random()*16)%16|0;return u=Math.floor(u/16),(F=="x"?g:g&3|8).toString(16)});return I},this.checkViewport=()=>{this.findSvgElement();let u=this.isInViewport;this.isInViewport=this.isElementInViewport(this.svgElement),u!==this.isInViewport&&this.onViewportChanged.observers.length>0&&this.ngZone.run(()=>{this.onViewportChanged.emit({oldValue:u,newValue:this.isInViewport})})},this.onScroll=u=>{this.checkViewport()},this.loadEventsForLazyMode=()=>{if(this.options.lazy){this.ngZone.runOutsideAngular(()=>{this.document.addEventListener("scroll",this.onScroll,!0),this.window.addEventListener("resize",this.onScroll,!0)}),this._viewportChangedSubscriber===null&&(this._viewportChangedSubscriber=this.onViewportChanged.subscribe(({oldValue:I,newValue:F})=>{F&&this.render()}));let u=Oe(0,50).subscribe(()=>{this.svgElement===null?this.checkViewport():u.unsubscribe()})}},this.unloadEventsForLazyMode=()=>{this.document.removeEventListener("scroll",this.onScroll,!0),this.window.removeEventListener("resize",this.onScroll,!0),this._viewportChangedSubscriber!==null&&(this._viewportChangedSubscriber.unsubscribe(),this._viewportChangedSubscriber=null)},this.document=S.get(xt),this.window=this.document.defaultView,Object.assign(this.options,e),Object.assign(this.defaultOptions,e)}emitClickEvent(e){this.options.renderOnClick&&this.animate(0,this.options.percent),this.onClick.observers.length>0&&this.onClick.emit(e)}isDrawing(){return this._timerSubscription&&!this._timerSubscription.closed}findSvgElement(){if(this.svgElement===null){let e=this.elRef.nativeElement.getElementsByTagName("svg");e.length>0&&(this.svgElement=e[0])}}isElementInViewport(e){if(e==null)return!1;let r=e.getBoundingClientRect(),l=e.parentNode,S;do{if(S=l.getBoundingClientRect(),r.top>=S.bottom||r.bottom<=S.top||r.left>=S.right||r.right<=S.left)return!1;l=l.parentNode}while(l!=this.document.body);return!(r.top>=(this.window.innerHeight||this.document.documentElement.clientHeight)||r.bottom<=0||r.left>=(this.window.innerWidth||this.document.documentElement.clientWidth)||r.right<=0)}ngOnInit(){this.loadEventsForLazyMode()}ngOnDestroy(){this.unloadEventsForLazyMode()}ngOnChanges(e){this.render(),"lazy"in e&&(e.lazy.currentValue?this.loadEventsForLazyMode():this.unloadEventsForLazyMode())}}return o.\u0275fac=function(e){return new(e||o)(G(ye),G(mt),G(ut),G(dt))},o.\u0275cmp=$({type:o,selectors:[["circle-progress"]],inputs:{name:"name",class:"class",backgroundGradient:"backgroundGradient",backgroundColor:"backgroundColor",backgroundGradientStopColor:"backgroundGradientStopColor",backgroundOpacity:"backgroundOpacity",backgroundStroke:"backgroundStroke",backgroundStrokeWidth:"backgroundStrokeWidth",backgroundPadding:"backgroundPadding",radius:"radius",space:"space",percent:"percent",toFixed:"toFixed",maxPercent:"maxPercent",renderOnClick:"renderOnClick",units:"units",unitsFontSize:"unitsFontSize",unitsFontWeight:"unitsFontWeight",unitsColor:"unitsColor",outerStrokeGradient:"outerStrokeGradient",outerStrokeWidth:"outerStrokeWidth",outerStrokeColor:"outerStrokeColor",outerStrokeGradientStopColor:"outerStrokeGradientStopColor",outerStrokeLinecap:"outerStrokeLinecap",innerStrokeColor:"innerStrokeColor",innerStrokeWidth:"innerStrokeWidth",titleFormat:"titleFormat",title:"title",titleColor:"titleColor",titleFontSize:"titleFontSize",titleFontWeight:"titleFontWeight",subtitleFormat:"subtitleFormat",subtitle:"subtitle",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",subtitleFontWeight:"subtitleFontWeight",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",animation:"animation",animateTitle:"animateTitle",animateSubtitle:"animateSubtitle",animationDuration:"animationDuration",showTitle:"showTitle",showSubtitle:"showSubtitle",showUnits:"showUnits",showImage:"showImage",showBackground:"showBackground",showInnerStroke:"showInnerStroke",clockwise:"clockwise",responsive:"responsive",startFromZero:"startFromZero",showZeroOuterStroke:"showZeroOuterStroke",lazy:"lazy",templateOptions:[0,"options","templateOptions"]},outputs:{onClick:"onClick"},features:[Ee],decls:1,vars:1,consts:[["xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","xMidYMid meet",3,"click",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","xMidYMid meet",3,"click"],[4,"ngIf"],["alignment-baseline","baseline",4,"ngIf"],["preserveAspectRatio","none",4,"ngIf"],["offset","5%"],["offset","95%"],["alignment-baseline","baseline"],[4,"ngFor","ngForOf"],["preserveAspectRatio","none"]],template:function(e,r){e&1&&M(0,Ai,9,11,"svg",0),e&2&&c("ngIf",r.svg)},dependencies:[ne,ee],encapsulation:2}),o})(),Yt=(()=>{class o{static forRoot(e={}){return{ngModule:o,providers:[{provide:ye,useValue:e}]}}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=me({type:o}),o.\u0275inj=de({imports:[Le]}),o})();function Vi(o,i){o&1&&W(0,"i",8)}function Ri(o,i){o&1&&W(0,"i",9)}function zi(o,i){if(o&1&&(p(0,"li"),w(1),M(2,Vi,1,0,"i",6)(3,Ri,1,0,"i",7),d()),o&2){let e=i.$implicit;ht("completed",e.completed)("failed",!e.completed),s(),ue(" ",e.word," "),s(),c("ngIf",e.completed),s(),c("ngIf",!e.completed)}}var $e=class o{constructor(){this.words=[];this.newGame=new q;this.goHome=new q}get successPercentage(){return this.words.filter(i=>i.completed).length/this.totalWords*100}get outerStrokeColor(){return this.successPercentage>=80?"#78C000":this.successPercentage>=50?"#FFC107":"#D32F2F"}get innerStrokeColor(){return this.successPercentage>=80?"#C7E596":this.successPercentage>=50?"#FFECB3":"#FFCDD2"}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=$({type:o,selectors:[["score-board"]],inputs:{score:"score",totalWords:"totalWords",feedbackMessage:"feedbackMessage",words:"words"},outputs:{newGame:"newGame",goHome:"goHome"},decls:8,vars:14,consts:[[1,"final-score-badge"],[3,"percent","radius","showZeroOuterStroke","showUnits","showSubtitle","outerStrokeWidth","innerStrokeWidth","outerStrokeColor","innerStrokeColor","animation","animationDuration","title"],[1,"feedback"],[1,"words-list"],[3,"completed","failed",4,"ngFor","ngForOf"],["mat-raised-button","",3,"click"],["class","fa-solid fa-circle-check success",4,"ngIf"],["class","fa-solid fa-circle-xmark fail",4,"ngIf"],[1,"fa-solid","fa-circle-check","success"],[1,"fa-solid","fa-circle-xmark","fail"]],template:function(e,r){e&1&&(p(0,"div",0),W(1,"circle-progress",1),p(2,"div",2),w(3),d(),p(4,"ul",3),M(5,zi,4,7,"li",4),d(),p(6,"button",5),A("click",function(){return r.newGame.emit()}),w(7,"New Game"),d()()),e&2&&(s(),c("percent",r.successPercentage)("radius",75)("showZeroOuterStroke",!1)("showUnits",!1)("showSubtitle",!1)("outerStrokeWidth",16)("innerStrokeWidth",8)("outerStrokeColor",r.outerStrokeColor)("innerStrokeColor",r.innerStrokeColor)("animation",!0)("animationDuration",300)("title",r.score+" / "+r.totalWords),s(2),ie(r.feedbackMessage),s(2),c("ngForOf",r.words))},dependencies:[xe,ne,ee,Qt],styles:[".progress-spinner[_ngcontent-%COMP%]{margin-bottom:1rem}.final-score-badge[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;background:#fff;border-radius:50px;align-items:center;padding:25px 0}.score[_ngcontent-%COMP%]{width:70px;height:34px;background:#e8f5e9;display:flex;align-items:center;justify-content:center;font-size:18px;border:1px solid #1b5e20;border-radius:5px;font-weight:600}.words-list[_ngcontent-%COMP%]{display:flex;gap:10px;padding:10px;width:100%;max-height:300px;overflow-y:auto;flex-wrap:wrap;justify-content:center}.words-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 16px;border-radius:8px;font-size:16px;font-weight:500;text-transform:lowercase;color:#424242;width:max-content;gap:10px}.words-list[_ngcontent-%COMP%]   li.completed[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}.words-list[_ngcontent-%COMP%]   li.failed[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.words-list[_ngcontent-%COMP%]   i.success[_ngcontent-%COMP%]{color:#558b2f}.words-list[_ngcontent-%COMP%]   i.fail[_ngcontent-%COMP%]{color:#c62828}button[_ngcontent-%COMP%]{background:#01579b!important;color:#fff!important}"]})}};var it={};(function o(i,e,r,l){var S=!!(i.Worker&&i.Blob&&i.Promise&&i.OffscreenCanvas&&i.OffscreenCanvasRenderingContext2D&&i.HTMLCanvasElement&&i.HTMLCanvasElement.prototype.transferControlToOffscreen&&i.URL&&i.URL.createObjectURL),u=typeof Path2D=="function"&&typeof DOMMatrix=="function",I=function(){if(!i.OffscreenCanvas)return!1;var n=new OffscreenCanvas(1,1),t=n.getContext("2d");t.fillRect(0,0,1,1);var a=n.transferToImageBitmap();try{t.createPattern(a,"no-repeat")}catch{return!1}return!0}();function F(){}function g(n){var t=e.exports.Promise,a=t!==void 0?t:i.Promise;return typeof a=="function"?new a(n):(n(F,F),null)}var L=function(n,t){return{transform:function(a){if(n)return a;if(t.has(a))return t.get(a);var h=new OffscreenCanvas(a.width,a.height),f=h.getContext("2d");return f.drawImage(a,0,0),t.set(a,h),h},clear:function(){t.clear()}}}(I,new Map),D=function(){var n=Math.floor(16.666666666666668),t,a,h={},f=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(t=function(v){var b=Math.random();return h[b]=requestAnimationFrame(function m(x){f===x||f+n-1<x?(f=x,delete h[b],v()):h[b]=requestAnimationFrame(m)}),b},a=function(v){h[v]&&cancelAnimationFrame(h[v])}):(t=function(v){return setTimeout(v,n)},a=function(v){return clearTimeout(v)}),{frame:t,cancel:a}}(),N=function(){var n,t,a={};function h(f){function v(b,m){f.postMessage({options:b||{},callback:m})}f.init=function(m){var x=m.transferControlToOffscreen();f.postMessage({canvas:x},[x])},f.fire=function(m,x,y){if(t)return v(m,null),t;var O=Math.random().toString(36).slice(2);return t=g(function(k){function E(V){V.data.callback===O&&(delete a[O],f.removeEventListener("message",E),t=null,L.clear(),y(),k())}f.addEventListener("message",E),v(m,O),a[O]=E.bind(null,{data:{callback:O}})}),t},f.reset=function(){f.postMessage({reset:!0});for(var m in a)a[m](),delete a[m]}}return function(){if(n)return n;if(!r&&S){var f=["var CONFETTI, SIZE = {}, module = {};","("+o.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{n=new Worker(URL.createObjectURL(new Blob([f])))}catch(v){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",v),null}h(n)}return n}}(),se={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function Z(n,t){return t?t(n):n}function Ye(n){return n!=null}function P(n,t,a){return Z(n&&Ye(n[t])?n[t]:se[t],a)}function Q(n){return n<0?0:Math.floor(n)}function J(n,t){return Math.floor(Math.random()*(t-n))+n}function Se(n){return parseInt(n,16)}function ce(n){return n.map(pe)}function pe(n){var t=String(n).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:Se(t.substring(0,2)),g:Se(t.substring(2,4)),b:Se(t.substring(4,6))}}function U(n){var t=P(n,"origin",Object);return t.x=P(t,"x",Number),t.y=P(t,"y",Number),t}function ei(n){n.width=document.documentElement.clientWidth,n.height=document.documentElement.clientHeight}function ti(n){var t=n.getBoundingClientRect();n.width=t.width,n.height=t.height}function ii(n){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=n,t}function ni(n,t,a,h,f,v,b,m,x){n.save(),n.translate(t,a),n.rotate(v),n.scale(h,f),n.arc(0,0,1,b,m,x),n.restore()}function oi(n){var t=n.angle*(Math.PI/180),a=n.spread*(Math.PI/180);return{x:n.x,y:n.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:n.startVelocity*.5+Math.random()*n.startVelocity,angle2D:-t+(.5*a-Math.random()*a),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:n.color,shape:n.shape,tick:0,totalTicks:n.ticks,decay:n.decay,drift:n.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:n.gravity*3,ovalScalar:.6,scalar:n.scalar,flat:n.flat}}function ri(n,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var a=t.tick++/t.totalTicks,h=t.x+t.random*t.tiltCos,f=t.y+t.random*t.tiltSin,v=t.wobbleX+t.random*t.tiltCos,b=t.wobbleY+t.random*t.tiltSin;if(n.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-a)+")",n.beginPath(),u&&t.shape.type==="path"&&typeof t.shape.path=="string"&&Array.isArray(t.shape.matrix))n.fill(ai(t.shape.path,t.shape.matrix,t.x,t.y,Math.abs(v-h)*.1,Math.abs(b-f)*.1,Math.PI/10*t.wobble));else if(t.shape.type==="bitmap"){var m=Math.PI/10*t.wobble,x=Math.abs(v-h)*.1,y=Math.abs(b-f)*.1,O=t.shape.bitmap.width*t.scalar,k=t.shape.bitmap.height*t.scalar,E=new DOMMatrix([Math.cos(m)*x,Math.sin(m)*x,-Math.sin(m)*y,Math.cos(m)*y,t.x,t.y]);E.multiplySelf(new DOMMatrix(t.shape.matrix));var V=n.createPattern(L.transform(t.shape.bitmap),"no-repeat");V.setTransform(E),n.globalAlpha=1-a,n.fillStyle=V,n.fillRect(t.x-O/2,t.y-k/2,O,k),n.globalAlpha=1}else if(t.shape==="circle")n.ellipse?n.ellipse(t.x,t.y,Math.abs(v-h)*t.ovalScalar,Math.abs(b-f)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):ni(n,t.x,t.y,Math.abs(v-h)*t.ovalScalar,Math.abs(b-f)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if(t.shape==="star")for(var C=Math.PI/2*3,j=4*t.scalar,Y=8*t.scalar,K=t.x,te=t.y,ae=5,X=Math.PI/ae;ae--;)K=t.x+Math.cos(C)*Y,te=t.y+Math.sin(C)*Y,n.lineTo(K,te),C+=X,K=t.x+Math.cos(C)*j,te=t.y+Math.sin(C)*j,n.lineTo(K,te),C+=X;else n.moveTo(Math.floor(t.x),Math.floor(t.y)),n.lineTo(Math.floor(t.wobbleX),Math.floor(f)),n.lineTo(Math.floor(v),Math.floor(b)),n.lineTo(Math.floor(h),Math.floor(t.wobbleY));return n.closePath(),n.fill(),t.tick<t.totalTicks}function si(n,t,a,h,f){var v=t.slice(),b=n.getContext("2d"),m,x,y=g(function(O){function k(){m=x=null,b.clearRect(0,0,h.width,h.height),L.clear(),f(),O()}function E(){r&&!(h.width===l.width&&h.height===l.height)&&(h.width=n.width=l.width,h.height=n.height=l.height),!h.width&&!h.height&&(a(n),h.width=n.width,h.height=n.height),b.clearRect(0,0,h.width,h.height),v=v.filter(function(V){return ri(b,V)}),v.length?m=D.frame(E):k()}m=D.frame(E),x=k});return{addFettis:function(O){return v=v.concat(O),y},canvas:n,promise:y,reset:function(){m&&D.cancel(m),x&&x()}}}function nt(n,t){var a=!n,h=!!P(t||{},"resize"),f=!1,v=P(t,"disableForReducedMotion",Boolean),b=S&&!!P(t||{},"useWorker"),m=b?N():null,x=a?ei:ti,y=n&&m?!!n.__confetti_initialized:!1,O=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,k;function E(C,j,Y){for(var K=P(C,"particleCount",Q),te=P(C,"angle",Number),ae=P(C,"spread",Number),X=P(C,"startVelocity",Number),pi=P(C,"decay",Number),di=P(C,"gravity",Number),mi=P(C,"drift",Number),rt=P(C,"colors",ce),ui=P(C,"ticks",Number),st=P(C,"shapes"),hi=P(C,"scalar"),gi=!!P(C,"flat"),at=U(C),lt=K,Je=[],fi=n.width*at.x,vi=n.height*at.y;lt--;)Je.push(oi({x:fi,y:vi,angle:te,spread:ae,startVelocity:X,color:rt[lt%rt.length],shape:st[J(0,st.length)],ticks:ui,decay:pi,gravity:di,drift:mi,scalar:hi,flat:gi}));return k?k.addFettis(Je):(k=si(n,Je,x,j,Y),k.promise)}function V(C){var j=v||P(C,"disableForReducedMotion",Boolean),Y=P(C,"zIndex",Number);if(j&&O)return g(function(X){X()});a&&k?n=k.canvas:a&&!n&&(n=ii(Y),document.body.appendChild(n)),h&&!y&&x(n);var K={width:n.width,height:n.height};m&&!y&&m.init(n),y=!0,m&&(n.__confetti_initialized=!0);function te(){if(m){var X={getBoundingClientRect:function(){if(!a)return n.getBoundingClientRect()}};x(X),m.postMessage({resize:{width:X.width,height:X.height}});return}K.width=K.height=null}function ae(){k=null,h&&(f=!1,i.removeEventListener("resize",te)),a&&n&&(document.body.contains(n)&&document.body.removeChild(n),n=null,y=!1)}return h&&!f&&(f=!0,i.addEventListener("resize",te,!1)),m?m.fire(C,K,ae):E(C,K,ae)}return V.reset=function(){m&&m.reset(),k&&k.reset()},V}var Ke;function ot(){return Ke||(Ke=nt(null,{useWorker:!0,resize:!0})),Ke}function ai(n,t,a,h,f,v,b){var m=new Path2D(n),x=new Path2D;x.addPath(m,new DOMMatrix(t));var y=new Path2D;return y.addPath(x,new DOMMatrix([Math.cos(b)*f,Math.sin(b)*f,-Math.sin(b)*v,Math.cos(b)*v,a,h])),y}function li(n){if(!u)throw new Error("path confetti are not supported in this browser");var t,a;typeof n=="string"?t=n:(t=n.path,a=n.matrix);var h=new Path2D(t),f=document.createElement("canvas"),v=f.getContext("2d");if(!a){for(var b=1e3,m=b,x=b,y=0,O=0,k,E,V=0;V<b;V+=2)for(var C=0;C<b;C+=2)v.isPointInPath(h,V,C,"nonzero")&&(m=Math.min(m,V),x=Math.min(x,C),y=Math.max(y,V),O=Math.max(O,C));k=y-m,E=O-x;var j=10,Y=Math.min(j/k,j/E);a=[Y,0,0,Y,-Math.round(k/2+m)*Y,-Math.round(E/2+x)*Y]}return{type:"path",path:t,matrix:a}}function ci(n){var t,a=1,h="#000000",f='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof n=="string"?t=n:(t=n.text,a="scalar"in n?n.scalar:a,f="fontFamily"in n?n.fontFamily:f,h="color"in n?n.color:h);var v=10*a,b=""+v+"px "+f,m=new OffscreenCanvas(v,v),x=m.getContext("2d");x.font=b;var y=x.measureText(t),O=Math.ceil(y.actualBoundingBoxRight+y.actualBoundingBoxLeft),k=Math.ceil(y.actualBoundingBoxAscent+y.actualBoundingBoxDescent),E=2,V=y.actualBoundingBoxLeft+E,C=y.actualBoundingBoxAscent+E;O+=E+E,k+=E+E,m=new OffscreenCanvas(O,k),x=m.getContext("2d"),x.font=b,x.fillStyle=h,x.fillText(t,V,C);var j=1/a;return{type:"bitmap",bitmap:m.transferToImageBitmap(),matrix:[j,0,0,j,-O*j/2,-k*j/2]}}e.exports=function(){return ot().apply(this,arguments)},e.exports.reset=function(){ot().reset()},e.exports.create=nt,e.exports.shapeFromPath=li,e.exports.shapeFromText=ci})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),it,!1);var Kt=it.exports,Fn=it.exports.create;function $i(o,i){if(o&1){let e=H();p(0,"input",2),A("input",function(){let l=R(e).index,S=_();return z(S.onInputChange(l))})("keydown",function(l){let S=R(e).index,u=_();return z(u.onKeyDown(l,S))})("focus",function(){let l=R(e).index,S=_();return z(S.onFocus(l))}),d()}if(o&2){let e=i.index;c("id","letter-"+e)("formControlName","letter-"+e),T("aria-label","Letter input "+(e+1))}}var qe=class o{constructor(i){this.formBuilder=i;this.word="";this.isDisabled=!1;this.wordOut=new q;this.limit=5;this.limitArray=[]}ngOnInit(){this.initializeForm()}ngOnChanges(i){i.word&&this.resetForm(),i.isDisabled&&(this.isDisabled?this.disableAllInputs():this.enableAllInputs())}initializeForm(){this.wordForm=this.formBuilder.group({}),this.limitArray=Array.from({length:this.limit},(i,e)=>e),this.limitArray.forEach(i=>{this.wordForm.addControl("letter-"+i,new le(""))})}resetForm(){this.limit=this.word?.length||4,this.wordForm=this.formBuilder.group({}),this.limitArray=Array.from({length:this.limit},(i,e)=>e),this.limitArray.forEach(i=>{this.wordForm.addControl("letter-"+i,new le(""))})}onInputChange(i){this.wordForm.get("letter-"+i)?.value&&i<this.limit-1&&document.getElementById("letter-"+(i+1))?.focus(),this.emitWordValue()}onKeyDown(i,e){i.key==="Backspace"?this.wordForm.get("letter-"+e)?.value||document.getElementById("letter-"+(e-1))?.focus():i.key==="ArrowLeft"&&e>0?document.getElementById("letter-"+(e-1))?.focus():i.key==="ArrowRight"&&e<this.limit-1&&document.getElementById("letter-"+(e+1))?.focus()}onFocus(i){let e=document.getElementById("letter-"+i)}emitWordValue(){let i=this.limitArray.map(e=>this.wordForm.get("letter-"+e)?.value).join("");i.length===this.limit&&this.wordOut.emit(i)}disableAllInputs(){this.limitArray.forEach(i=>{let e=this.wordForm.get("letter-"+i);e&&e.disable()})}enableAllInputs(){this.limitArray.forEach(i=>{let e=this.wordForm.get("letter-"+i);e&&e.enable()})}static{this.\u0275fac=function(e){return new(e||o)(G(Ft))}}static{this.\u0275cmp=$({type:o,selectors:[["word-input"]],inputs:{word:"word",value:"value",isDisabled:"isDisabled"},outputs:{wordOut:"wordOut"},features:[Ee],decls:2,vars:2,consts:[[1,"word-wrap",3,"formGroup"],["autocomplete","off","class","letter-input","maxlength","1","placeholder","_",3,"id","formControlName","input","keydown","focus",4,"ngFor","ngForOf"],["autocomplete","off","maxlength","1","placeholder","_",1,"letter-input",3,"input","keydown","focus","id","formControlName"]],template:function(e,r){e&1&&(p(0,"form",0),M(1,$i,1,3,"input",1),d()),e&2&&(c("formGroup",r.wordForm),s(),c("ngForOf",r.limitArray))},dependencies:[ne,Ve,Be,Ae,Ne,It,Re,ze],styles:[".letter-input[_ngcontent-%COMP%]{width:40px;height:50px;margin:0 5px;border:1px solid #d7d7d7;border-radius:8px;text-align:center;font-size:24px;font-weight:700;outline:none;transition:all .2s ease-in-out}.letter-input[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 8px #007bff80}.word-wrap[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:7px;flex-wrap:wrap}.letter-input[_ngcontent-%COMP%]::selection{background:transparent}"]})}};var Hi=["letterInput"],Zi=o=>({visibility:o});function Qi(o,i){if(o&1){let e=H();p(0,"button",8),A("click",function(){R(e);let l=_();return z(l.onSubmit())}),w(1,"Submit"),d()}}function Yi(o,i){if(o&1){let e=H();p(0,"button",8),A("click",function(){R(e);let l=_();return z(l.onNextWord())}),w(1,"Next Word"),d()}}var Ue=class o{constructor(i){this.store=i;this.currentWord$=this.store.pipe(oe($t));this.onSuccess=new q;this.onNext=new q;this.onSkip=new q;this.userInput="";this.showOtpInput=!0;this.toastService=pt(St)}get config(){return{length:this.word?.word.length||0}}ngOnInit(){this.currentWordsubscription$=this.currentWord$.subscribe(i=>{i&&(this.word=i,this.audio=new Audio(this.word.voice))})}onNextWord(){this.onNext.emit()}onSkipWord(){this.onSkip.emit()}onInputChange(i){this.userInput=i}onSubmit(){if(this.word&&this.userInput.toLowerCase()===this.word.word.toLowerCase())Kt({particleCount:100,spread:70,origin:{y:.6}}),this.toastService.success("You spelled it right!"),this.onSuccess.emit();else{let e=this.userInput.length===(this.word?.word.length||0)?"The spelling appears to be incorrect. Please review and try again.":"Please complete the word before submitting.";this.toastService.error(e)}}playVoice(){this.audio.play().catch(i=>{console.error("Error playing audio:",i)})}ngOnDestroy(){this.currentWordsubscription$.unsubscribe()}static{this.\u0275fac=function(e){return new(e||o)(G(ge))}}static{this.\u0275cmp=$({type:o,selectors:[["spell-bee-word"]],viewQuery:function(e,r){if(e&1&&gt(Hi,5),e&2){let l;ft(l=vt())&&(r.letterInputs=l)}},outputs:{onSuccess:"onSuccess",onNext:"onNext",onSkip:"onSkip"},decls:13,vars:7,consts:[["fxLayout","column","fxLayoutAlign","center stretch","fxLayoutGap","10px",1,"word-container"],["fxLayout","row","fxLayoutAlign","center center",1,"audio-control"],["mat-stroked-button","",3,"click"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","20px",1,"form"],["typeOfInput","text",3,"wordOut","word","isDisabled"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","10px",1,"submit-button"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-stroked-button","","color","warn",1,"skip",3,"click","ngStyle"],["mat-raised-button","",3,"click"]],template:function(e,r){e&1&&(p(0,"div",0)(1,"div",1)(2,"button",2),A("click",function(){return r.playVoice()}),p(3,"mat-icon"),w(4,"volume_up"),d(),w(5," Listen to the word "),d()(),p(6,"div",3)(7,"word-input",4),A("wordOut",function(S){return r.onInputChange(S)}),d(),p(8,"div",5),M(9,Qi,2,0,"button",6)(10,Yi,2,0,"button",6),d()()(),p(11,"button",7),A("click",function(){return r.onSkipWord()}),w(12," Skip "),d()),e&2&&(s(7),c("word",r.word==null?null:r.word.word)("isDisabled",r.word==null?null:r.word.completed),s(2),c("ngIf",!(r.word!=null&&r.word.completed)),s(),c("ngIf",r.word==null?null:r.word.completed),s(),c("ngStyle",bt(5,Zi,r.word!=null&&r.word.completed?"hidden":"visible")))},dependencies:[xe,De,ve,_e,be,fe,ee,he,qe],styles:["[_nghost-%COMP%]{margin:20px 0;width:100%}.word-container[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:10px;width:100%}.audio-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#01579e}.skip[_ngcontent-%COMP%]{background-color:#fff}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;background-color:#01579e}.completed[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px;height:28px}.completed[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#3eb655;font-weight:600}"]})}};function Xi(o,i){o&1&&(p(0,"div",5)(1,"mat-card",6)(2,"mat-icon"),w(3,"error"),d(),p(4,"span"),w(5,"Unable to Load Spell Bee, Please try Later"),d()()())}function en(o,i){if(o&1&&(p(0,"div",11)(1,"div")(2,"span",12),w(3),Ie(4,"async"),d()(),p(5,"div",13)(6,"mat-icon"),w(7,"timer"),d(),w(8),d()()),o&2){let e=_(2);s(3),_t("Question: ",Fe(4,3,e.questionNumber),"/",e.totalQuestions,""),s(5),ue(" ",e.formattedTime," ")}}function tn(o,i){if(o&1){let e=H();p(0,"spell-bee-word",14),A("onSuccess",function(){R(e);let l=_(2);return z(l.handleSuccess())})("onSkip",function(){R(e);let l=_(2);return z(l.advanceWord())})("onNext",function(){R(e);let l=_(2);return z(l.advanceWord())}),d()}}function nn(o,i){if(o&1){let e=H();p(0,"score-board",15),A("newGame",function(){R(e);let l=_(2);return z(l.startNewGame())})("goHome",function(){R(e);let l=_(2);return z(l.navigateHome())}),d()}if(o&2){let e=_(2);c("score",e.score)("totalWords",e.totalQuestions)("feedbackMessage",e.getFeedbackMessage())("words",e.words)}}function on(o,i){if(o&1&&(p(0,"mat-card",7),M(1,en,9,5,"div",8)(2,tn,1,0,"spell-bee-word",9)(3,nn,1,4,"score-board",10),d()),o&2){let e=_();s(),c("ngIf",!e.gameEnded),s(),c("ngIf",!e.gameEnded),s(),c("ngIf",e.gameEnded)}}function rn(o,i){o&1&&W(0,"loader")}var He=class o{constructor(i,e){this.store=i;this.router=e;this.words=[];this.loading=!1;this.gameEnded=!1;this.score=0;this.timeLeft=0;this.totalQuestions=0}ngOnInit(){this.initializeGame()}get getStyle(){return{background:Ce.levelBackgrounds[this.preferences?.selectedLevels?.[0]],width:"100%",height:"calc( 100% - 55px)"}}initializeGame(){this.store.dispatch(Bt()),this.loading=!0,this.gameEnded=!1,this.score=0,this.preferencesSubscription=this.store.pipe(oe(Rt)).subscribe(i=>{this.preferences=i}),this.selectWordsSubscription=this.store.pipe(oe(zt)).subscribe(i=>{i.length>0&&(this.words=i,this.totalQuestions=i.length,this.loading=!1,this.timerInterval||this.startTimer())}),this.error$=this.store.pipe(oe(jt))}handleSuccess(){this.score++,this.store.dispatch(Vt()),this.checkAndEndGame(!0)}advanceWord(){this.store.dispatch(At()),this.checkAndEndGame(!1)}checkAndEndGame(i){this.store.pipe(oe(tt)).subscribe(e=>{e+1===this.words.length&&i&&this.endGame(),e==this.words.length&&!i&&this.endGame()}).unsubscribe()}startTimer(){this.timeLeft=this.preferences?.timeLimit?this.preferences.timeLimit*60:300,this.timerInterval=setInterval(()=>{this.timeLeft>0?this.timeLeft--:this.endGame()},1e3)}get formattedTime(){let i=Math.floor(this.timeLeft/60),e=this.timeLeft%60;return`${i}:${e<10?"0":""}${e}`}get questionNumber(){return this.store.pipe(oe(tt),ct(i=>i+1))}endGame(){clearInterval(this.timerInterval),this.timerInterval=null,this.gameEnded=!0,this.selectWordsSubscription.unsubscribe(),this.preferencesSubscription.unsubscribe(),this.store.dispatch(Nt())}startNewGame(){this.initializeGame()}ngOnDestroy(){clearInterval(this.timerInterval),this.timerInterval=null}navigateHome(){this.router.navigate(["/"])}getFeedbackMessage(){let i=this.score/this.totalQuestions*100;return i>=70?"You did great!":i>=50?"Well done!":"Keep practicing!"}static{this.\u0275fac=function(e){return new(e||o)(G(ge),G(We))}}static{this.\u0275cmp=$({type:o,selectors:[["spell-bee-game"]],inputs:{preferences:"preferences"},decls:8,vars:12,consts:[["toolKey","spellBee",3,"showBackButton","backRoute"],["fxLayout","column","fxLayoutAlign","center center",1,"container",3,"ngStyle"],["fxLayout","row","fxLayoutAlign","center center","class","error-container",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","class","game-container",4,"ngIf"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center",1,"error-container"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","10px",1,"error-card"],["fxLayout","column","fxLayoutAlign","center center",1,"game-container"],["fxLayout","row","fxLayoutAlign","space-between center","class","score-timer-panel",4,"ngIf"],["fxLayout","column","fxLayoutAlign","space-between end",3,"onSuccess","onSkip","onNext",4,"ngIf"],[3,"score","totalWords","feedbackMessage","words","newGame","goHome",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center",1,"score-timer-panel"],[1,"question-tracker"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","4px",1,"timer"],["fxLayout","column","fxLayoutAlign","space-between end",3,"onSuccess","onSkip","onNext"],[3,"newGame","goHome","score","totalWords","feedbackMessage","words"]],template:function(e,r){e&1&&(W(0,"tool-header",0),p(1,"div",1),M(2,Xi,6,0,"div",2),Ie(3,"async"),M(4,on,4,3,"mat-card",3),Ie(5,"async"),M(6,rn,1,0,"loader",4),Ie(7,"async"),d()),e&2&&(c("showBackButton",!0)("backRoute","/dashboard"),s(),c("ngStyle",r.getStyle),s(),c("ngIf",Fe(3,6,r.error$)),s(2),c("ngIf",!r.loading&&!Fe(5,8,r.error$)),s(2),c("ngIf",r.loading&&!Fe(7,10,r.error$)))},dependencies:[Te,De,ve,_e,be,fe,yt,Ge,ee,he,$e,Ue,Ct],styles:["[_nghost-%COMP%]{width:100%;height:100%}.container[_ngcontent-%COMP%]{width:100%}.error-container[_ngcontent-%COMP%]{width:100%;margin:1rem 0}.error-card[_ngcontent-%COMP%]{padding:1rem;background-color:#ffebee;color:#b71c1c;border:1px solid #b71c1c;border-radius:8px;font-size:1rem;margin:0 20px}.score-timer-panel[_ngcontent-%COMP%]{width:100%}.game-container[_ngcontent-%COMP%]{max-width:95%;width:640px;margin:12px;background:#fff;padding:1rem;border-radius:15px}.timer[_ngcontent-%COMP%]{color:#583707;background:#ffb74d;padding:4px 8px;border-radius:12px;font-size:14px;width:90px}.question-tracker[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:#333}"]})}};function an(o,i){o&1&&W(0,"spell-bee-game")}var Ze=class o{constructor(i,e,r,l){this.store=i;this.route=e;this.router=r;this.dialog=l;this.isGame=!1;this.preferences=null}ngOnInit(){this.route.queryParams.subscribe(i=>{let e=+i.questionCount||0,r=+i.timeLimit||0,l=i.levels?.split(",")||[];!e||!l.length?this.openPreferenceDialog():(this.preferences={questionCount:e,timeLimit:r,selectedLevels:l},this.store.dispatch(Gt({preferences:this.preferences})),this.startGame())})}getSpellBeeUrl(i){let e={};return i.questionCount&&(e.questionCount=i.questionCount.toString()),i.timeLimit&&(e.timeLimit=i.timeLimit.toString()),i.selectedLevels.length&&(e.levels=i.selectedLevels.join(",")),e}openPreferenceDialog(){this.dialog.open(je,{width:"400px",disableClose:!0,panelClass:"custom-dialog-overlay"}).componentInstance.preferencesSelected.subscribe(e=>{this.preferences=e;let r=this.getSpellBeeUrl(e);this.navigateTo("spell-bee",r),this.startGame()})}navigateTo(i,e={}){this.router.navigate([i],{queryParams:e})}startGame(){this.isGame=!0,console.log("Game started with preferences:",this.preferences)}static{this.\u0275fac=function(e){return new(e||o)(G(ge),G(wt),G(We),G(Lt))}}static{this.\u0275cmp=$({type:o,selectors:[["spell-bee"]],decls:2,vars:1,consts:[[1,"spell-bee-container"],[4,"ngIf"]],template:function(e,r){e&1&&(p(0,"div",0),M(1,an,1,0,"spell-bee-game",1),d()),e&2&&(s(),c("ngIf",r.isGame))},dependencies:[ee,He],styles:["header[_ngcontent-%COMP%]{height:60px;display:flex;align-items:center}.spell-bee-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#fff;height:100%}.spell-bee-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5em;color:#ff5a5f;margin-bottom:30px}"]})}};var ln=[{path:"",component:Ze}],Qe=class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=me({type:o})}static{this.\u0275inj=de({imports:[et.forChild(ln),et]})}};var Xt=class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=me({type:o})}static{this.\u0275inj=de({providers:[qt(),kt()],imports:[Dt,Ge,Le,Pt,Ot,Qe,Yt.forRoot({radius:100,outerStrokeWidth:16,innerStrokeWidth:8,outerStrokeColor:"#78C000",innerStrokeColor:"#C7E596",animationDuration:300})]})}};export{Xt as SpellBeeModule};
